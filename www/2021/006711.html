<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> a space case for transparent gemtext compression
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20a%20space%20case%20for%20transparent%20gemtext%20compression&In-Reply-To=%3C82a6noeedq.fsf%40nassur.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006720.html">
   <LINK REL="Next"  HREF="006713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>a space case for transparent gemtext compression</H1>
    <B>ew.gemini</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20a%20space%20case%20for%20transparent%20gemtext%20compression&In-Reply-To=%3C82a6noeedq.fsf%40nassur.net%3E"
       TITLE="a space case for transparent gemtext compression">ew.gemini at nassur.net
       </A><BR>
    <I>Thu Jun 17 15:34:54 BST 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006720.html">a space case for transparent gemtext compression
</A></li>
        <LI>Next message (by thread): <A HREF="006713.html">a space case for transparent gemtext compression
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6711">[ date ]</a>
              <a href="thread.html#6711">[ thread ]</a>
              <a href="subject.html#6711">[ subject ]</a>
              <a href="author.html#6711">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Francis Siefken &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">fsiefken at gmail.com</A>&gt; writes:

&gt;<i> Att&#225;l gemininauts,
</I>&gt;<i>
</I>&gt;<i>snip&lt;
</I>
&gt;<i> One simplistic idea is to check if the gmi is binary, and
</I>&gt;<i> assume it has been compressed with zstd and then automatically
</I>&gt;<i> decompress it in the client. It'd be just one extra step in
</I>&gt;<i> the gemini client. To assess thethe speed and data savings I
</I>&gt;<i> compressed a short story by Gene Wolfe with zstandard and
</I>&gt;<i> lpaq9, a page or so, representative of an average gemtext. The
</I>&gt;<i> compression and decompression speeds are below 30ms here. I
</I>&gt;<i> didn't precompress with a dictionary (for added significant
</I>&gt;<i> size reduction) as that would mean detecting the language
</I>&gt;<i> (from for example word frequency). Ideally the gmi would be
</I>&gt;<i> compressed one time on the server to avoid compressing (and
</I>&gt;<i> straining the solar powered pico on space) for each request.
</I>&gt;<i>
</I>&gt;<i> 11390 xicygnus.gmi
</I>&gt;<i> 4098 xicygnus.gmi.0.lpaq9
</I>&gt;<i> 4855 xicygnus.gmi.13.zst
</I>&gt;<i> 5146 xicygnus.gmi.3.zst
</I>&gt;<i>
</I>&gt;<i> How would people solve such use cases elegantly and within the
</I>&gt;<i> design philosophy?
</I>
Well, imho you do not neccessarily need any changes to the
protocol or the gemtext specs.

Noone stops you from:

* writing an article (arbitrary size, consider it big for the
  argument)
  =&gt; filename.gmi
* compressing this file with xz, say
  =&gt; filename.gmi.xz
* adding an abstract which describes the article
  =&gt; filename-abstract.gmi
* adding a link to the abstract
  =&gt; filename.gmi.xz  read more [compressed]
* the abstract is added to your feed and/or index.gmi

The the user will decide whether to follow the link.
The client software might be able to uncompress the downloaded
file and display it similar to LaGrange displaying image as if
they were &quot;inline&quot;.


Please bear in mind that the gemini protocol does not even
announce the length of the content to follow.


I would go the same route for extented text where I want to
control the presentation. Use \LaTeX, produce a .pdf file, offer
a download link in an plain/text abstract file, which is
indexed. No need for &quot;complex machinery&quot;.

Cheers,
~ew


&gt;<i>snip&lt;
</I>
&gt;<i> kind regards,
</I>&gt;<i> Francis Siefken (NL)
</I>&gt;<i> <A HREF="gemini://fsiefken.srht.site">gemini://fsiefken.srht.site</A>
</I>

-- 
Keep it simple!
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 861 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.orbitalfox.eu/archives/gemini/attachments/20210617/b2484298/attachment.sig">https://lists.orbitalfox.eu/archives/gemini/attachments/20210617/b2484298/attachment.sig</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006720.html">a space case for transparent gemtext compression
</A></li>
	<LI>Next message (by thread): <A HREF="006713.html">a space case for transparent gemtext compression
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6711">[ date ]</a>
              <a href="thread.html#6711">[ thread ]</a>
              <a href="subject.html#6711">[ subject ]</a>
              <a href="author.html#6711">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
