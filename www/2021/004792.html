<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [tech] doubts (was Re: [spec] [rfc] SEDR 300 VOLUME I)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%5Btech%5D%20doubts%20%28was%20Re%3A%20%5Bspec%5D%20%5Brfc%5D%20SEDR%20300%20VOLUME%20I%29&In-Reply-To=%3CCAD2gp_QEq-moraGYm5TXigJQtwLrL7pFinCthL2ZzgX-epy2AQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004785.html">
   <LINK REL="Next"  HREF="004793.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[tech] doubts (was Re: [spec] [rfc] SEDR 300 VOLUME I)</H1>
    <B>John Cowan</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%5Btech%5D%20doubts%20%28was%20Re%3A%20%5Bspec%5D%20%5Brfc%5D%20SEDR%20300%20VOLUME%20I%29&In-Reply-To=%3CCAD2gp_QEq-moraGYm5TXigJQtwLrL7pFinCthL2ZzgX-epy2AQ%40mail.gmail.com%3E"
       TITLE="[tech] doubts (was Re: [spec] [rfc] SEDR 300 VOLUME I)">cowan at ccil.org
       </A><BR>
    <I>Fri Jan  8 22:29:26 GMT 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004785.html">[tech] doubts (was Re: [spec] [rfc] SEDR 300 VOLUME I)
</A></li>
        <LI>Next message (by thread): <A HREF="004793.html">[tech] doubts (was Re: [spec] [rfc] SEDR 300 VOLUME I)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4792">[ date ]</a>
              <a href="thread.html#4792">[ thread ]</a>
              <a href="subject.html#4792">[ subject ]</a>
              <a href="author.html#4792">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jan 8, 2021 at 1:27 AM Sean Conner &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">sean at conman.org</A>&gt; wrote:


&gt;<i> You are writing a client, and you come across this link:
</I>&gt;<i>
</I>&gt;<i> =&gt; %2E%2E/%52%3A%20%41%2F%42%20%31%25%20%40%20%24%33%3B%76%3D%31
</I>&gt;<i>
</I>
If we unescape all of the RFC 2396 unreserved characters, we get
&quot;../R%3A%20A%2FB%201%25%20%40%20%243;%3Bv%3D1&quot; (my reference to RFC 2616
was erroneous).  RFC 3986 makes a lot of concessions to WHATWG, and
requires the %2E%2E to be left alone, which changes resolution.  IMO Gemini
should stick with 2396 on this and a number of other points.

This is a relative URI, so this needs to be resolved against the base URI,
&gt;<i> and for this question, the base URI is
</I>&gt;<i>
</I>&gt;<i>         <A HREF="gemini://example.com/%66%6F%6F/%62%61%72%3B%33/">gemini://example.com/%66%6F%6F/%62%61%72%3B%33/</A>
</I>

RFC 2396 doesn't actually allow an unescaped trailing slash in the
pathname, although RFC 3986 does.  If that is removed, then there there are
no escaped reserved characters, so this is equivalent to &quot;<A HREF="gemini://">gemini://</A>
example.com/foo/bar%3B3/&quot;.  Normal URI resolution then gives us &quot;<A HREF="gemini://">gemini://</A>
example.com/foo/R%3A%20A%2FB%201%25%20%40%20%243;%3Bv%3D1&quot;, which is what
should be sent to the server.  Exactly how, if at all, the last component
of the path is translated into a file on the filesystem is completely up to
the server.

That's my best shot.



John Cowan          <A HREF="http://vrici.lojban.org/~cowan">http://vrici.lojban.org/~cowan</A>        <A HREF="https://lists.orbitalfox.eu/listinfo/gemini">cowan at ccil.org</A>
Evolutionary psychology is the theory that men are nothing but horn-dogs,
and that women only want them for their money.  --Susan McCarthy (adapted)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.orbitalfox.eu/archives/gemini/attachments/20210108/4d401344/attachment.htm">https://lists.orbitalfox.eu/archives/gemini/attachments/20210108/4d401344/attachment.htm</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004785.html">[tech] doubts (was Re: [spec] [rfc] SEDR 300 VOLUME I)
</A></li>
	<LI>Next message (by thread): <A HREF="004793.html">[tech] doubts (was Re: [spec] [rfc] SEDR 300 VOLUME I)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4792">[ date ]</a>
              <a href="thread.html#4792">[ thread ]</a>
              <a href="subject.html#4792">[ subject ]</a>
              <a href="author.html#4792">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
