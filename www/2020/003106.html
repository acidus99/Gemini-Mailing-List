<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> libmagic
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20libmagic&In-Reply-To=%3C20201107154436.089e2cc49403972678602841%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003100.html">
   <LINK REL="Next"  HREF="003109.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>libmagic</H1>
    <B>Philip Linde</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20libmagic&In-Reply-To=%3C20201107154436.089e2cc49403972678602841%40gmail.com%3E"
       TITLE="libmagic">linde.philip at gmail.com
       </A><BR>
    <I>Sat Nov  7 14:44:36 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003100.html">libmagic
</A></li>
        <LI>Next message (by thread): <A HREF="003109.html">hello
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3106">[ date ]</a>
              <a href="thread.html#3106">[ thread ]</a>
              <a href="subject.html#3106">[ subject ]</a>
              <a href="author.html#3106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 6 Nov 2020 20:21:50 -0500
John Cowan &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">cowan at ccil.org</A>&gt; wrote:

&gt;<i> Any ideas for identifying text/gemini by regex?
</I>
There are none that aren't likely to produce either false positives or
false negatives. Consider this valid, plausibly realistic text/gemini
document (indented):

  # Hello
  
  This is the first paragraph.
  
  This is the second.

  * List item 1
  * List item 2
  
  ## Subsection 1
  
  This is a subsection.

  ```
  This is some pre-formatted text
  ```

This is also a valid text/markdown and text/plain document. I'd say
that the most easily identifiable trait of text-gemini is the link
arrows, but plenty of documents contain no links, and (less likely)
examples that would generate false positives/negatives can still be
created.

IMO, solutions like libmagic should be used as a last resort. Let the
server admin associate file types with extensions (for example via a
system provided MIME database, or in a cascading fashion starting with
manual associations in the server configuration file, and using the MIME
database if that fails). If no such association exists, by all means
utilize libmagic and hope for the best.

-- 
Philip
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 488 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.orbitalfox.eu/archives/gemini/attachments/20201107/d27f4ba2/attachment.sig">https://lists.orbitalfox.eu/archives/gemini/attachments/20201107/d27f4ba2/attachment.sig</A>&gt;
</PRE>















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003100.html">libmagic
</A></li>
	<LI>Next message (by thread): <A HREF="003109.html">hello
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3106">[ date ]</a>
              <a href="thread.html#3106">[ thread ]</a>
              <a href="subject.html#3106">[ subject ]</a>
              <a href="author.html#3106">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
