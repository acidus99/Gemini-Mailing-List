<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Golang percent encoding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Golang%20percent%20encoding&In-Reply-To=%3Cu4RAaMtZBWaA_xkvMt0dDVRUv8TNy-yRYkaL-Da2f4GoHU7OHNrv-5HXcbIRXM2JivtHTLvW6q6_GD9C1Ctg4xRvc9YrwS0OEnmwjZE7A0Y%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001837.html">
   <LINK REL="Next"  HREF="001840.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Golang percent encoding</H1>
    <B>colecmac at protonmail.com</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Golang%20percent%20encoding&In-Reply-To=%3Cu4RAaMtZBWaA_xkvMt0dDVRUv8TNy-yRYkaL-Da2f4GoHU7OHNrv-5HXcbIRXM2JivtHTLvW6q6_GD9C1Ctg4xRvc9YrwS0OEnmwjZE7A0Y%3D%40protonmail.com%3E"
       TITLE="Golang percent encoding">colecmac at protonmail.com
       </A><BR>
    <I>Mon Jun 22 22:36:16 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001837.html">Wikipedia through Gemini
</A></li>
        <LI>Next message (by thread): <A HREF="001840.html">[ANN] gemget v1.2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1839">[ date ]</a>
              <a href="thread.html#1839">[ thread ]</a>
              <a href="subject.html#1839">[ subject ]</a>
              <a href="author.html#1839">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just wanted to let other Gemini Go coders know something about encoding
query strings. The Gemini spec mandates percent coding, so you should be
using url.PathEscape and url.PathUnescape to deal with queries, and NOT
url.QueryEscape and url.QueryUnescape.

However, there's one more thing. url.PathEscape does not replace +
characters, although to ensure compatibility, it probably should. Here's
the function I use in all my projects to escape queries:

func pathEscape(path string) string {
	return strings.ReplaceAll(url.PathEscape(path), &quot;+&quot;, &quot;%2B&quot;)
}

This is simple, but seems to work perfectly. url.PathUnescape will still
work fine for decoding.

Cheers,
makeworld


</PRE>














































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001837.html">Wikipedia through Gemini
</A></li>
	<LI>Next message (by thread): <A HREF="001840.html">[ANN] gemget v1.2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1839">[ date ]</a>
              <a href="thread.html#1839">[ thread ]</a>
              <a href="subject.html#1839">[ subject ]</a>
              <a href="author.html#1839">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
