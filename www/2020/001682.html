<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Thoughts on TOFU
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Thoughts%20on%20TOFU&In-Reply-To=%3Ckr1OrJ-cleGQ6seQsq7daH9N5pdBufwiHbkTBSw5IYv_bVUEP4mmXix2RVrZmKKWfRYAN7LallLyCZVxaYXCQ6JmuAsRf94DwSgCND1EbJQ%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001613.html">
   <LINK REL="Next"  HREF="001687.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Thoughts on TOFU</H1>
    <B>colecmac at protonmail.com</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Thoughts%20on%20TOFU&In-Reply-To=%3Ckr1OrJ-cleGQ6seQsq7daH9N5pdBufwiHbkTBSw5IYv_bVUEP4mmXix2RVrZmKKWfRYAN7LallLyCZVxaYXCQ6JmuAsRf94DwSgCND1EbJQ%3D%40protonmail.com%3E"
       TITLE="Thoughts on TOFU">colecmac at protonmail.com
       </A><BR>
    <I>Mon Jun 15 00:09:05 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001613.html">Thoughts on TOFU
</A></li>
        <LI>Next message (by thread): <A HREF="001687.html">Thoughts on TOFU
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1682">[ date ]</a>
              <a href="thread.html#1682">[ thread ]</a>
              <a href="subject.html#1682">[ subject ]</a>
              <a href="author.html#1682">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So I've realized that this will break a lot of workflows, I think.

Many sites on Gemini-space just use their Let's Encrypt cert for their
site, but the Let's Encrypt tool, certbot, sets a new private key when
renewing[1]. As far as I can tell, this is standard practice (certbot or no),
and so I don't think that storing only the public key for TOFU is a good idea.

1: <A HREF="https://github.com/certbot/certbot/issues/231">https://github.com/certbot/certbot/issues/231</A>

However, this doesn't solve the issue Felix presented:

&gt;<i> This means that trust in a server is lost as soon as a certificate is
</I>&gt;<i> expired and a subsequent renewal of the certificate with the same
</I>&gt;<i> private key is the same as visiting the host for the first time. But
</I>&gt;<i> when i refresh my server certificate before it expires (which is
</I>&gt;<i> recommended), we will have the situation that the client will not trust
</I>&gt;<i> the server anymore (same situation as when an attacker is doing a MITM
</I>&gt;<i> attack) which i think is not a good situation.
</I>
I'm not sure what to do about this. Both options seem bad, and both will cause
breakage. It seems that there is no good way to do TOFU with certs, unless
you want to try and control how servers use certs, like specifying that keypairs
should not change or something.

Solderpunk, I'd appreciate if we could work towards some general solution for this,
and official recommendations for how to handle TOFU and cert renewal.

makeworld
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001613.html">Thoughts on TOFU
</A></li>
	<LI>Next message (by thread): <A HREF="001687.html">Thoughts on TOFU
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1682">[ date ]</a>
              <a href="thread.html#1682">[ thread ]</a>
              <a href="subject.html#1682">[ subject ]</a>
              <a href="author.html#1682">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
