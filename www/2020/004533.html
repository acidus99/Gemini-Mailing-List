<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [spec] What to do of fragments when there is a redirection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%5Bspec%5D%20What%20to%20do%20of%20fragments%20when%20there%20is%20a%20redirection&In-Reply-To=%3C2465438.YfcuP8kr0n%40tempete%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004532.html">
   <LINK REL="Next"  HREF="004541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[spec] What to do of fragments when there is a redirection</H1>
    <B>C&#244;me Chilliet</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%5Bspec%5D%20What%20to%20do%20of%20fragments%20when%20there%20is%20a%20redirection&In-Reply-To=%3C2465438.YfcuP8kr0n%40tempete%3E"
       TITLE="[spec] What to do of fragments when there is a redirection">come at chilliet.eu
       </A><BR>
    <I>Mon Dec 28 12:40:30 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004532.html">[spec] What to do of fragments when there is a redirection
</A></li>
        <LI>Next message (by thread): <A HREF="004541.html">[spec] What to do of fragments when there is a redirection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4533">[ date ]</a>
              <a href="thread.html#4533">[ thread ]</a>
              <a href="subject.html#4533">[ subject ]</a>
              <a href="author.html#4533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le lundi 28 d&#233;cembre 2020, 10:59:33 CET Solderpunk a &#233;crit :
&gt;<i> Okay, so original URL fragments should be carried over to redirect URLs
</I>&gt;<i> if the redirect URL has no fragment (which I still suspect perhaps
</I>&gt;<i> should be the only valid case).
</I>
This is my opinion as well, the fragment should be carried over if the redirect URL has no fragment.

I also think that it should be allowed to redirect to a URL with a fragment, the obvious example is if several documents are merged, their previous URL can link to the specific part of the merged document.

Someone used HTML served over gemini as an example, I think it is a good thinking exercise to be able to analyse fragment handling in gemini protocol separately from fragment meaning in text/gemini documents.
Think about a client browsing HTML through gemini protocol, and needing to be able to link and redirect to anchors.

Fragments may be forbidden in the gemini request, since they should never be sent to the server.

&gt;<i> What about queries?
</I>&gt;<i> 
</I>&gt;<i> To some extent, the issue of a redirect URL having a query in it is
</I>&gt;<i> similar to a link in a text/gemini document having a query in it, which
</I>&gt;<i> was slightly controversial.  Not so much in the sense that people
</I>&gt;<i> thought it should be disallowed, but that it was widely believed clients
</I>&gt;<i> should handle such things very carefully and give the user a chance to
</I>&gt;<i> confirm or edit the query string contents.
</I>&gt;<i> 
</I>&gt;<i> Should redirect URLs be allowed to contain queries?
</I>&gt;<i> 
</I>&gt;<i> If an original URL has a query in it but the client gets back a redirect
</I>&gt;<i> URL without a query, should the original query be appended?
</I>
I think queries should be handled exactly like path segment, and not be carried over to a redirection without query, and be allowed in the redirection.

If I was redoing the tictactoe today, I would use a query string instead of a path segment to carry the game state, making it clearer to people and especially crawlers (GUS and lupa both played every possible tictactoe game while crawling) that it is the same page with a different input.

See GUS backlink pages for instance, it is useful for me to be able to link to <A HREF="gemini://gus.guru/backlinks?tictactoe.lanterne.chilliet.eu">gemini://gus.guru/backlinks?tictactoe.lanterne.chilliet.eu</A>
And it may make sense for me to redirect there from my server if I had a local responses link, and I decided to switch to using GUS backlinks instead.

C&#244;me


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004532.html">[spec] What to do of fragments when there is a redirection
</A></li>
	<LI>Next message (by thread): <A HREF="004541.html">[spec] What to do of fragments when there is a redirection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4533">[ date ]</a>
              <a href="thread.html#4533">[ thread ]</a>
              <a href="subject.html#4533">[ subject ]</a>
              <a href="author.html#4533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
