<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Removing expiry dates for TOFU
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Removing%20expiry%20dates%20for%20TOFU&In-Reply-To=%3CMN2PR07MB6655E917EA3DA3DFEDF83DE1E4660%40MN2PR07MB6655.namprd07.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002098.html">
   <LINK REL="Next"  HREF="002100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Removing expiry dates for TOFU</H1>
    <B>Thomas Karpiniec</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Removing%20expiry%20dates%20for%20TOFU&In-Reply-To=%3CMN2PR07MB6655E917EA3DA3DFEDF83DE1E4660%40MN2PR07MB6655.namprd07.prod.outlook.com%3E"
       TITLE="Removing expiry dates for TOFU">tom.karpiniec at outlook.com
       </A><BR>
    <I>Tue Jul  7 05:26:48 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002098.html">Removing expiry dates for TOFU
</A></li>
        <LI>Next message (by thread): <A HREF="002100.html">Removing expiry dates for TOFU
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2099">[ date ]</a>
              <a href="thread.html#2099">[ thread ]</a>
              <a href="subject.html#2099">[ subject ]</a>
              <a href="author.html#2099">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: Gemini &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">gemini-bounces at lists.orbitalfox.eu</A>&gt; On Behalf Of
</I>&gt;<i> <A HREF="https://lists.orbitalfox.eu/listinfo/gemini">colecmac at protonmail.com</A>
</I>&gt;<i> How can a server rotate a keypair and prove it's still the same server as
</I>&gt;<i> before, that there's not an MITM attack going on? This is a genuine question,
</I>&gt;<i> I haven't heard much about key rotation for TLS before. Could you explain or
</I>&gt;<i> send a link on how this works? I can't find much on it.
</I>
This thread feels like it's trying to hack certificate validation into doing something for which it really wasn't intended, operating without a CA. Getting this right is likely to be more complicated than any aspect of the Gemini protocol itself.

The spec:
&gt;<i> the strongly RECOMMENDED approach is to implement a lightweight &quot;TOFU&quot; certificate-pinning system which treats self-signed certificates as first- class citizens. This greatly reduces TLS overhead on the network (only one cert needs to be sent, not a whole chain) and lowers the barrier to entry for setting up a Gemini site (no need to pay a CA or setup a Let's Encrypt cron job, just make a cert and go).
</I>
Could I gently push back on the idea that getting an LE certificate is a high barrier to entry? Configuring certbot is relatively easy and a known quantity. Cleaning up after my private key is lost or exposed is an open ended problem with no easy solutions. I know there is a diversity of opinions/priorities but my vote would be to lean on the regular CA infrastructure so that we don't have to tussle with all of the scenarios currently being discussed.

More broadly, Gemini is a magnificent hack to co-opt the best of both gopher and the web into a carefully calibrated new thing, leaning on existing technologies like URLs, MIME types and TLS for expedience. LetsEncrypt is a magnificent hack to the CA system, providing all the benefits to us at no monetary cost, and that was no small undertaking. I don't think it should fall to Gemini, and therefore the implementors of Gemini clients and servers, to &quot;fix&quot; TLS trust. A good solution, once it is actually adopted, is likely to apply to all TLS servers rather than Gemini alone. Provided we are using TLS libraries we can take advantage of whatever that happens to be.

If nothing else, clients could attempt to verify the provided cert/chain against the system's trusted root CAs. If this takes precedence over TOFU it offers an escape hatch for anybody who wanted to try the self-signed thing and then it didn't work out. Nothing I've suggested here is _contrary_ to the spec as it stands - it's just a question of what people do by default, which hopefully won't set them up for failure later.

Cheers, Tom

</PRE>




































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002098.html">Removing expiry dates for TOFU
</A></li>
	<LI>Next message (by thread): <A HREF="002100.html">Removing expiry dates for TOFU
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2099">[ date ]</a>
              <a href="thread.html#2099">[ thread ]</a>
              <a href="subject.html#2099">[ subject ]</a>
              <a href="author.html#2099">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
