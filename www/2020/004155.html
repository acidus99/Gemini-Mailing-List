<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [tech] /.well-known/capability ehlo
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%5Btech%5D%20/.well-known/capability%20ehlo&In-Reply-To=%3C15815838-98FE-4438-878B-6BE3EE982D0C%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004154.html">
   <LINK REL="Next"  HREF="004156.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[tech] /.well-known/capability ehlo</H1>
    <B>Petite Abeille</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%5Btech%5D%20/.well-known/capability%20ehlo&In-Reply-To=%3C15815838-98FE-4438-878B-6BE3EE982D0C%40gmail.com%3E"
       TITLE="[tech] /.well-known/capability ehlo">petite.abeille at gmail.com
       </A><BR>
    <I>Sun Dec 20 00:39:42 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004154.html">[tech] Mail client as Gemini browser?
</A></li>
        <LI>Next message (by thread): <A HREF="004156.html">[tech] /.well-known/capability ehlo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4155">[ date ]</a>
              <a href="thread.html#4155">[ thread ]</a>
              <a href="subject.html#4155">[ subject ]</a>
              <a href="author.html#4155">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Older protocols such as SMTP, POP3, IMAP, and NNTP have developed extension mechanism overtime:

SMTP has EHLO.
POP3 has CAPA.
IMAP has CAPABILITY.
NNTP has CAPABILITIES.

The principle is always the same: the client invoke a well known server command to list the server capabilities. The client can then use these extensions in coordination with the server.

The server capabilities are represented as a set of keywords, such as 8BITMIME, CHUNKING, PIPELINING, SIZE, etc, etc...

For example, in SMTP:

C: EHLO
S: 250-8BITMIME

This tell the client the server supports 8 bit data transmission, enabling the client to send such data, in addition to the 7bit defined by the standard.

In Gemini, a consenting client-server pair would use a similar mechanism to discover and negotiate new capabilities; above and beyond the ones defined by the standard itself.

Upon receiving a request at /.well-known/capability, a compatible server would respond with a text listing its capabilities, as keywords, one per line:

C: <A HREF="gemini://mozz.us/.well-known/capability">gemini://mozz.us/.well-known/capability</A>
S: text
IRI

For example, the IRI keyword tells the client the server can understand and generate IRIs for both request and text/gemini links; in addition to the regular URIs defined by the specification itself.

Another capability could be EHLO.

EHLO tells the client it can extend the initial Gemini request with further keywords, after the URI:

C: <A HREF="gemini://mozz.us/bunny.gmi">gemini://mozz.us/bunny.gmi</A> IRI
S: text/gemini
=&gt; <A HREF="gemini://&#128007;.hole/&#128048;%20%26%20&#129365;.gmi">gemini://&#128007;.hole/&#128048;%20%26%20&#129365;.gmi</A> &#128048; &amp; &#129365;: Down The Rabbit Hole, a journey.

Another server extension could be CHUNK, telling the client to expect chunked transfer encoding.

Another server extension could be SIZE, telling the client to expect an additional size parameter, as part of the content type.

Another server extension could be PERSIST, informing the client the connection can be maintained after a response, allowing the client to issue further requests over the same connection.

Putting this together:

C: <A HREF="gemini://mozz.us/.well-known/capability">gemini://mozz.us/.well-known/capability</A>
S: text
EHLO
IRI
PERSISTENT
SIZE
&lt;server drops connection&gt;
C: <A HREF="gemini://mozz.us/&#128111;&#8205;&#9792;&#65039;.gmi">gemini://mozz.us/&#128111;&#8205;&#9792;&#65039;.gmi</A> IRI PERSIST SIZE
S: text/gemini; size=90
=&gt; <A HREF="gemini://&#128007;.hole/&#128048;%20%26%20&#129365;.gmi">gemini://&#128007;.hole/&#128048;%20%26%20&#129365;.gmi</A> &#128048; &amp; &#129365;: Down The Rabbit Hole, a journey.
&lt;server maintains connection, awaiting a further request&gt;

In other words -after checking the server capabilities- the client request a persistent connection, with  content size, and IRIs.

That's all folks.

Thoughts? Opinions? Likes? Dislikes? Something?






</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004154.html">[tech] Mail client as Gemini browser?
</A></li>
	<LI>Next message (by thread): <A HREF="004156.html">[tech] /.well-known/capability ehlo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4155">[ date ]</a>
              <a href="thread.html#4155">[ thread ]</a>
              <a href="subject.html#4155">[ subject ]</a>
              <a href="author.html#4155">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
