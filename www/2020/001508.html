<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> &quot;Wide load&quot; status code(s)?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%22Wide%20load%22%20status%20code%28s%29%3F&In-Reply-To=%3C20200610195746.GE10136%40SDF.ORG%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001493.html">
   <LINK REL="Next"  HREF="001528.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>&quot;Wide load&quot; status code(s)?</H1>
    <B>solderpunk</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%22Wide%20load%22%20status%20code%28s%29%3F&In-Reply-To=%3C20200610195746.GE10136%40SDF.ORG%3E"
       TITLE="&quot;Wide load&quot; status code(s)?">solderpunk at SDF.ORG
       </A><BR>
    <I>Wed Jun 10 20:57:46 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001493.html">&quot;Wide load&quot; status code(s)?
</A></li>
        <LI>Next message (by thread): <A HREF="001528.html">&quot;Wide load&quot; status code(s)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1508">[ date ]</a>
              <a href="thread.html#1508">[ thread ]</a>
              <a href="subject.html#1508">[ subject ]</a>
              <a href="author.html#1508">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jun 10, 2020 at 01:16:12PM +0200, Petite Abeille wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; On Jun 10, 2020, at 09:32, solderpunk &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">solderpunk at SDF.ORG</A>&gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; are forced to simply terminate the connection once a threshold amount of content has been downloaded
</I>&gt;<i> 
</I>&gt;<i> Is it really a problem? It should be user-agents prerogative to drop the connection anytime they see fit. And/or only handle a small subset of media type (e.g. text/* only). Ditto for showing network activities. Even the simplest of client could count how many bytes it has read so far, no?
</I>&gt;<i> 
</I>
Yes, of course, the client can always drop the connection whenever,
whyever.  But if your goal is to conserve limited or expensive network
traffic, being able to sever the connection immediately after seeing the
first two bytes of the header will be much more effective than
downloading the first MiB of data and then saying &quot;Nope, I can't afford
to finish this&quot; and then throwing away that already-downloaded MiB.

As for counting bytes, in fact AV-98, after parsing the header, simply
reads from the socket until EOF with a single line:

`body = f.read()`

Replacing this with a loop to make smaller reads, calculate their
length, update a counter, and append them to a buffer is much more work
than simply printing a single &quot;This may take a while...&quot; statement after
parsing the header.

Cheers,
Solderpunk
</PRE>




































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001493.html">&quot;Wide load&quot; status code(s)?
</A></li>
	<LI>Next message (by thread): <A HREF="001528.html">&quot;Wide load&quot; status code(s)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1508">[ date ]</a>
              <a href="thread.html#1508">[ thread ]</a>
              <a href="subject.html#1508">[ subject ]</a>
              <a href="author.html#1508">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
