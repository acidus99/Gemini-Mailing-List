<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Caching and status codes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Caching%20and%20status%20codes&In-Reply-To=%3CC6XCWFHU26R2.3JV3F81N8FZ5Y%40rath%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003123.html">
   <LINK REL="Next"  HREF="003124.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Caching and status codes</H1>
    <B>Leo</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Caching%20and%20status%20codes&In-Reply-To=%3CC6XCWFHU26R2.3JV3F81N8FZ5Y%40rath%3E"
       TITLE="Caching and status codes">list at gkbrk.com
       </A><BR>
    <I>Sat Nov  7 21:41:10 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003123.html">Caching and status codes
</A></li>
        <LI>Next message (by thread): <A HREF="003124.html">Caching and status codes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3117">[ date ]</a>
              <a href="thread.html#3117">[ thread ]</a>
              <a href="subject.html#3117">[ subject ]</a>
              <a href="author.html#3117">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I apologise if anyone got this email twice. I forgot to switch out my
email address before submitting to the list. Following is my original
reply.


Ok when I replied I thought you were going to argue about something
ideological about how the content creator should get the final say in
how their content is accessed, but it looks like you are arguing on a
technical viewpoint. What you are saying does not make a lot of sense to
me though.

&gt;<i> Rude clients are going to cache.
</I>
This is the statement that bothered me because it seemed very weird to
consider a client &quot;rude&quot; for not making requests. So I asked about it
for clarification.

&gt;<i> &gt; I don't understand why a client caching responses is rude. Or rather,
</I>&gt;<i> &gt; I don't understand who it is being rude to. When I configure my HTTP
</I>&gt;<i> &gt; or Gemini browser to cache every response, is my browser now being
</I>&gt;<i> &gt; rude to me? Is it being rude to the server?
</I>&gt;<i> The rude thing here would be having to serve large files over Gemini
</I>&gt;<i> and expect them to be served often,
</I>
But here you are saying that the rude thing here is having to serve
large files over gemini and expecting them to be served often. This
would be the server being rude, and clients caching or not caching
resources would not have an impact on how large a server's reponses are.

If anything, it would result in less traffic and at least partially
mitigate the issue. If your server is being _rude_ and sending large
responses, my client is not gonna make it worse by requesting it every
single time. Your server might have a lot of bandwidth, my client does
not.

&gt;<i> the protocol operates under the assumption that caching does not exist,
</I>&gt;<i> it's by convention, this simplifies the client a LOT and removes such
</I>&gt;<i> uncertainty when writing dynamic content for Gemini. Consider reading
</I>&gt;<i> 2.1.1 in <A HREF="gemini://gemini.circumlunar.space/docs/faq.gmi">gemini://gemini.circumlunar.space/docs/faq.gmi</A>
</I>
The protocol operates under the assumption that caching does not exist
in order to make clients and servers simpler. A client adding caching
would NOT affect a server negatively. If you consider caching clients to
be rude clients, too bad, you will never notice them because instead of
making extra requests, they are making less. I suppose you can ask them
to apologise for not making you spend money on compute/bandwidth etc.

&gt;<i> &gt; How can something that causes less resource usage on the server be
</I>&gt;<i> &gt; rude to the server, or something I configured or downloaded as a
</I>&gt;<i> &gt; &quot;client that has caching&quot; be rude to me for using it?
</I>&gt;<i> Because the server operates under the assumption that content is not
</I>&gt;<i> cached, if you're serving large files over Gemini you should look
</I>&gt;<i> somewhere else, this is not bittorrent, and if your server is eating up
</I>&gt;<i> a lot of resources, you're doing Gemini wrong, Gemini servers don't
</I>&gt;<i> have to be complicated, that's your own problem. Consider using
</I>&gt;<i> connection queue and serving connections one by instead of forking or
</I>&gt;<i> multithreading because the protocol allows such simple design by
</I>&gt;<i> closing the connection right after the transaction, it's not like in
</I>&gt;<i> HTTP land where you have keep-alive.
</I>
Again, you are talking about making servers more complicated. If my
client does not cache and your server sends large responses, this is
indeed a problem and you might have to make your server more complex to
handle it. Caching clients would make simpler server code possible, as
performance tricks would not be necessary. But even ignoring that, a
client that caches responses would not make your server more complex.

&gt;<i> &gt; Is not doing everything a server sends being rude to the server
</I>&gt;<i> &gt; operator? If a server sends a 100000000x100000000 image, is my image
</I>&gt;<i> &gt; viewer being rude for refusing to decode/display it?
</I>&gt;<i> No, its being sane, this does not apply here.
</I>
So it is being sane when a server says &quot;display this monstrous image&quot;
and the client refuses, but it is insane when the server says &quot;please
download this resource that you downloaded 3 seconds ago&quot; and the client
says &quot;I'll just use the response I have cached&quot;?

&gt;<i> Does everyone here require a lecture on why their desired features
</I>&gt;<i> aren't in the protocol yet? seems to be the common point of discussion
</I>&gt;<i> here, as if the protocol is NOT ENOUGH, I don't know what brought your
</I>&gt;<i> interest here, did you see it as a great way of avoiding the current
</I>&gt;<i> scope creep of the modern web, or as a playground to satisfy your bad
</I>&gt;<i> ideas?
</I>
The whole point of the discussion is that clients WILL cache resources.
Gemini benefits a lot from having a wide range of different clients. You
simply can't control everyone's use case to fit the way you think they
should consume content.

Just like some browsers/proxies cache HTTP and Gopher responses, some
people who are bandwidth constrained or simply not wasteful will choose
to cache their Gemini responses too. The discussion throws out the idea
of client HINTS that will say &quot;This might be a dynamic response, maybe
don't cache it&quot;. Neither the server nor the client needs to take
advantage of this, a client can always cache or never cache, and a
server can expect everything to be cached or not cached. Just like
before.

I understand the desire to keep the spec short, and actually agree with
people on this. I believe a new response code for this is not necessary.
But a client that caches something is not being rude, at least not more
than a client that offers to save the resource to the disk or to send it
to a printer.

&gt;<i> Do you have anything else to help the community with? perhaps hosting
</I>&gt;<i> content in the Gemini space? or helping in the development of tools
</I>&gt;<i> interacting with the protocol? or is your interest just satisfied when
</I>&gt;<i> the spec becomes ten times of its current size, then you can MAYBE
</I>&gt;<i> decide to use the protocol for yourself.
</I>
Disagreeing with someone is one thing, but you don't have to attack them
like this. Before you shame other people, please enlighten us with the
tangible value that you have provided to the greater Gemini community.

&gt;<i> If any feature does not add a great value at an acceptable cost to the
</I>&gt;<i> simplicity of the protocol, consider it rejected before even proposing
</I>&gt;<i> it, I don't want to have a different experience browsing Gemini space
</I>&gt;<i> using netcat than using Kristall.
</I>
I agree with this completely.

--
Leo
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003123.html">Caching and status codes
</A></li>
	<LI>Next message (by thread): <A HREF="003124.html">Caching and status codes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3117">[ date ]</a>
              <a href="thread.html#3117">[ thread ]</a>
              <a href="subject.html#3117">[ subject ]</a>
              <a href="author.html#3117">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
