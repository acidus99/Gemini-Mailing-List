<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Three possible uses for IRIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Three%20possible%20uses%20for%20IRIs&In-Reply-To=%3CCAD2gp_Ti%3DyKG7VOBi2M5Y-OE1QX%3Dug0LWMEsBzGOVLe6R4MMkA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003908.html">
   <LINK REL="Next"  HREF="003912.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Three possible uses for IRIs</H1>
    <B>John Cowan</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Three%20possible%20uses%20for%20IRIs&In-Reply-To=%3CCAD2gp_Ti%3DyKG7VOBi2M5Y-OE1QX%3Dug0LWMEsBzGOVLe6R4MMkA%40mail.gmail.com%3E"
       TITLE="Three possible uses for IRIs">cowan at ccil.org
       </A><BR>
    <I>Tue Dec  8 20:30:10 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003908.html">Three possible uses for IRIs
</A></li>
        <LI>Next message (by thread): <A HREF="003912.html">Three possible uses for IRIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3910">[ date ]</a>
              <a href="thread.html#3910">[ thread ]</a>
              <a href="subject.html#3910">[ subject ]</a>
              <a href="author.html#3910">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Dec 8, 2020 at 2:09 PM &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">colecmac at protonmail.com</A>&gt; wrote:


&gt;<i> I think some people really were calling for a breaking change to the
</I>&gt;<i> protocol.
</I>&gt;<i> But I'm glad you're not, and I hope we can move on and stop talking about
</I>&gt;<i> it.
</I>&gt;<i> What you propose here is allowing IRIs in link lines only?
</I>

Yes.

&gt;<i> Or do you mean allowing
</I>&gt;<i> only IRIs for relative references?
</I>&gt;<i>
</I>
No.

&gt;<i> I'm unsure whether that would require an IRI parser or not,
</I>

It will not, because conversion can be done before parsing, other than the
trivial parsing required to find the hostname and punycode it.  Once that
is done, converting an IRI reference to a URI reference is as
straightforward as transcoding from one character set to another, and
totally indifferent to the IRI format.  So my two steps for IRI-&gt;URI
conversion become three:

1)  NFC normalization.

2) Punycode conversion of the hostname.

3) Percent-encoding: find non-ASCII characters and convert them to %nn%nn,
or %nn%nn%nn, or %nn%nn%nn%nn sequences, where nn is two hex digits.

It turns out that all of this is spelled out in more detail at &lt;
<A HREF="https://tools.ietf.org/html/rfc3987#section-3.1">https://tools.ietf.org/html/rfc3987#section-3.1</A>&gt;.  That section says not to
normalize unless you have the IRI in non-digital or non-UTF* format, but
since the world is not full of editors that normalize, I think Gemini
clients need to do it themselves.   That said, most keyboard drivers (even
for hard cases like Vietnamese, which has way too many vowels to dedicate a
key to each) now deliver normalized text to applications.

It's good to know that some existing URI libraries support IRIs, but that
section should be convincing evidence that you can change an IRI to a URI
without parsing it (always excepting the domain name, which is trivial to
find).

But this is still a somewhat-breaking change, as once authors start using
&gt;<i> these, other non-Go clients will likely begin to fail. And the correction
</I>&gt;<i> that Go does is not even complete, because it will not work on query
</I>&gt;<i> strings.
</I>&gt;<i> And even if it did, it would not work in the Gemini way that doesn't allow
</I>&gt;<i> pluses, etc etc.
</I>&gt;<i>
</I>
The above transformation will work, however.  Sometimes DIY is the Right
Thing.

&gt;<i> We're almost there with this one, but I still think it's a mistake, and
</I>&gt;<i> it'll
</I>&gt;<i> make Gemini more complex. :/
</I>&gt;<i>
</I>
It will.  But in the end, if Gemini succeeds even modestly there will be
more authors than programmers.

[*] 72 lower-case vowel letters: 6 vowels without diacritics plus 6 vowels
with vowel-quality diacritics, as in French, times 6 tone marks (one of
which is &quot;no mark&quot;) as in Chinese.  And the same number in upper case.



John Cowan          <A HREF="http://vrici.lojban.org/~cowan">http://vrici.lojban.org/~cowan</A>        <A HREF="https://lists.orbitalfox.eu/listinfo/gemini">cowan at ccil.org</A>
It's like if you meet an really old, really rich guy covered in liver
spots and breathing with an oxygen tank, and you say, &quot;I want to be
rich, too, so I'm going to start walking with a cane and I'm going to
act crotchety and I'm going to get liver disease. --Wil Shipley
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.orbitalfox.eu/archives/gemini/attachments/20201208/6720d39c/attachment.htm">https://lists.orbitalfox.eu/archives/gemini/attachments/20201208/6720d39c/attachment.htm</A>&gt;
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003908.html">Three possible uses for IRIs
</A></li>
	<LI>Next message (by thread): <A HREF="003912.html">Three possible uses for IRIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3910">[ date ]</a>
              <a href="thread.html#3910">[ thread ]</a>
              <a href="subject.html#3910">[ subject ]</a>
              <a href="author.html#3910">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
