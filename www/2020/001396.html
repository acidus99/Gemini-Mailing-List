<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [SPEC-CHANGE] lang parameter, minor line type changes, clarifications...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%5BSPEC-CHANGE%5D%20lang%20parameter%2C%20minor%20line%20type%20changes%2C%0A%20clarifications...&In-Reply-To=%3C20200607162723.GC15622%40SDF.ORG%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001394.html">
   <LINK REL="Next"  HREF="001397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SPEC-CHANGE] lang parameter, minor line type changes, clarifications...</H1>
    <B>solderpunk</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%5BSPEC-CHANGE%5D%20lang%20parameter%2C%20minor%20line%20type%20changes%2C%0A%20clarifications...&In-Reply-To=%3C20200607162723.GC15622%40SDF.ORG%3E"
       TITLE="[SPEC-CHANGE] lang parameter, minor line type changes, clarifications...">solderpunk at SDF.ORG
       </A><BR>
    <I>Sun Jun  7 17:27:23 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001394.html">Core Gemini docs converted to text/gemini
</A></li>
        <LI>Next message (by thread): <A HREF="001397.html">[SPEC-CHANGE] lang parameter, minor line type changes, clarifications...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1396">[ date ]</a>
              <a href="thread.html#1396">[ thread ]</a>
              <a href="subject.html#1396">[ subject ]</a>
              <a href="author.html#1396">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ahoy!

I have just pushed some changes to the Gemini specification.  You can
see the new new v0.13.0 spec at:

* <A HREF="gemini://gemini.circumlunar.space/docs/specification.gmi">gemini://gemini.circumlunar.space/docs/specification.gmi</A>
* <A HREF="gopher://gemini.circumlunar.space/0/docs/specification.txt">gopher://gemini.circumlunar.space/0/docs/specification.txt</A>
* <A HREF="https://gemini.circumlunar.space/docs/specification.html">https://gemini.circumlunar.space/docs/specification.html</A>

Perhaps the biggest change, in conceptual terms, is the introduction of
the &quot;lang&quot; parameter for text/gemini.  However, most clients will not
need to make any changes whatsoever on account of this.

The other changes are either small clarifications or enhancements of
existing functionality and have all been discussed previously on the
mailing list.

SUMMARY OF CHANGES:

text/gemini documents can now specify which natural language(s) they are
written in via a &quot;lang&quot; parameter to the media type.  Valid values of
&quot;lang&quot; are comma-separated lists of language tags, as defined in
RFC4646.  These are actually pretty powerful tags and can specify
language, script (which implies a particular direction of text
rendering), usage of regional variant, etc.  Of course, clients can pay
as much or as little attention to these details as their authors seem
fit.  Servers never have to provide this parameter (although it would be
good practice to do so) and clients never have to pay attention to it.
See section 5.2 for full details.

The definition of unordered list item lines has been changed so that
they begin not just with &quot;*&quot; but with &quot;* &quot;.  This allows the first word
of a regular text line to be *emphasised* in a common fashion without
the line being accidentally considered a list item.  GUS data suggests
that everybody, or almost everybody, is already writing their list items
this way, so this should not require any content updates by authors.
See section 5.4.2 for full details.

Lines beginning with &quot;&gt;&quot; are now defined to be quote lines, as per
popular demand.  Nothing is prescribed about how clients should display
this.  I expect terminal-based clients will simply keep the &quot;&gt;&quot; visible
as its use to convey quotation is extremely widely used and familiar
from email and usenet.  When wrapping long lines to fit the screen, each
resultant line may have a &quot;&gt;&quot; placed at the front.  This is mostly just
a styling matter, but I consider it to be styling which conveys
important semantic information and when quoting multiple paragraphs of
text it helps to disambiguate where the quotation ends.  This is the
last advanced line type I expect to ever add to the spec.  See section
5.4.3 for full details.

Status code 11 has been defined for requesting &quot;sensitive&quot; input, like
passwords.  Clients should treat it exactly like status code 10 except
they should not echo the user's input to the screen.  This will allow us
to experiment with different authentication paradigms as part of client
certificate work-flows.  See Appendix 1 for full details.

The need to use percent-encoding on reserved characters and spaces in
URLs, both in requests and in the link lines of text/gemini bodies, has
been made explicit due to observed variation in how clients/servers
actually handle this.  See sections 3.2.1 and 5.4.2 for full details.

The definition of link lines now clarifies that clients &quot;MUST NOT
automatically make any network connections as part of displaying links
whose scheme corresponds to a network protocol (e.g. <A HREF="gemini://,">gemini://,</A>
<A HREF="gopher://,">gopher://,</A> <A HREF="https://,">https://,</A> <A HREF="ftp://,">ftp://,</A> etc.)&quot;.  See section 5.4.2 for full
details.

IMPLICATIONS FOR SERVER AUTHORS:

You SHOULD consider providing a way for admins and/or users to specify
which value of the &quot;lang&quot; parameter should be sent for text/gemini
content.

If your server automatically generates text/gemini content (e.g.
directory listings), you MUST make sure it uses percent-encoding in
its URLs (filenames with spaces in them are a good test case!).

IMPLICATIONS FOR CLIENT AUTHORS:

Your client MAY make use of the value of the &quot;lang&quot; parameter in
interpreting text/gemini content (this will mostly be relevant for the
Rhapsode audio browser and perhaps for search engines).

If your client recognises unordered list item lines and treats them
differently from plain text lines, you MUST change the code which
identifies them to require a space after the *.

You MAY update your client to recognise the new quote line type.

You MAY update your client to treat status code 11 differently from
status code 10.

If your client supports status codes beginning with 1, you MUST be
percent-encoding the user input when formatting the subsequent
request.

If your client has been automatically making network connections you
MUST remove this behaviour and atone for your sins!

IMPLICATIONS FOR CONTENT AUTHORS:

If your content has unordered list item lines which do not include a
space after the initial *, you MUST insert that space.

Cheers,
Solderpunk

</PRE>




































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001394.html">Core Gemini docs converted to text/gemini
</A></li>
	<LI>Next message (by thread): <A HREF="001397.html">[SPEC-CHANGE] lang parameter, minor line type changes, clarifications...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1396">[ date ]</a>
              <a href="thread.html#1396">[ thread ]</a>
              <a href="subject.html#1396">[ subject ]</a>
              <a href="author.html#1396">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
