<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Unicode vs. the World
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Unicode%20vs.%20the%20World&In-Reply-To=%3C1929208.OtTX6HifbA%40tempete%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004079.html">
   <LINK REL="Next"  HREF="004091.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Unicode vs. the World</H1>
    <B>C&#244;me Chilliet</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Unicode%20vs.%20the%20World&In-Reply-To=%3C1929208.OtTX6HifbA%40tempete%3E"
       TITLE="Unicode vs. the World">come at chilliet.eu
       </A><BR>
    <I>Tue Dec 15 20:00:33 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="004079.html">Unicode vs. the World
</A></li>
        <LI>Next message (by thread): <A HREF="004091.html">Unicode vs. the World
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4080">[ date ]</a>
              <a href="thread.html#4080">[ thread ]</a>
              <a href="subject.html#4080">[ subject ]</a>
              <a href="author.html#4080">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le mardi 15 d&#233;cembre 2020, 20:11:12 CET PJ vM a &#233;crit :
&gt;<i> So that would define a special percent-encoding for clients, where
</I>&gt;<i> they'd encode everything except percent signs, right? So in this link:
</I>&gt;<i> =&gt;<A HREF="gemini://example.com/&#128048;&#129365;&#128007;&#128048;-why-space-is-%20-in-urls.gmi">gemini://example.com/&#128048;&#129365;&#128007;&#128048;-why-space-is-%20-in-urls.gmi</A>
</I>&gt;<i> , a client would have to percent-encode the emojis, but leave the &quot;%20&quot;
</I>&gt;<i> bit alone? This seems very confusing; it's also not one-to-one (encoding
</I>&gt;<i> then decoding &quot;%20&quot; gives &quot; &quot; back)... And if you just skip
</I>&gt;<i> percent-encoding when the only &quot;encodable&quot; characters in the path are
</I>&gt;<i> percent signs, that's confusing too. That rule also doesn't work on
</I>&gt;<i> =&gt;<A HREF="gemini://example.com/%XY.gmi">gemini://example.com/%XY.gmi</A>
</I>
Because this is not a valid link, neither URI nor IRI.

&gt;<i> Also, if an author wants to link to &quot;why-space-is-%20-in-urls.gmi&quot; at
</I>&gt;<i> example.com, the only option would be to write
</I>&gt;<i> =&gt;<A HREF="gemini://example.com/why-space-is-%2520-in-urls.gmi">gemini://example.com/why-space-is-%2520-in-urls.gmi</A>
</I>&gt;<i> This introduces a pitfall for authors: they never have to think about
</I>&gt;<i> percent-encoding, *except* when there are percent signs in the path.
</I>
Yes, and spaces, and delimiter characters, such as &quot;/&quot;.

&gt;<i> How is this better than agreeing that link paths in gemtext are always
</I>&gt;<i> completely percent-encoded? In that case, clients can percent-decode the
</I>&gt;<i> path and display that. Authors could use a tool that 'fully' (as in, it
</I>&gt;<i> also turns every &quot;%&quot; into &quot;%25&quot;) percent-encodes a link for them.
</I>
Because a completely percent encoded link is hell to read and to write, for instance:
<A HREF="gemini://gemini.circumlunar.space/%64%6f%63%73/%66%61%71%2e%67%6d%69">gemini://gemini.circumlunar.space/%64%6f%63%73/%66%61%71%2e%67%6d%69</A>

So I think you do not mean &#171;completely percent-encoded&#187;, you mean percent encode non-ascii non-reserved text, and you feel like this is better because you are use to english and ascii.
But you will always need to remember which chars you need to percent encode. You will never be able to use &quot;/&quot; in a file name without percent encoding. Or &quot;?&quot;.

&gt;<i> Counterintuitively, in this way I think mandating completely
</I>&gt;<i> percent-encoded paths in gemtext link lines might actually result in
</I>&gt;<i> easier linking for authors.
</I>
No, it is just a different set of characters to percent encode.

&gt;<i> The same (clients may/should display, authors use tool) could be done
</I>&gt;<i> with internationalised domain names (could be the same tool that does
</I>&gt;<i> the percent-encoding), but crucially there is no ambiguity there,
</I>&gt;<i> because an ascii domain name with &quot;xn--&quot; is unrepresentable in punycode
</I>&gt;<i> and disallowed (I think). On the other hand, allowing anything
</I>&gt;<i> whatsoever in the domain name and nothing in the path would be strange
</I>&gt;<i> and a bit inconsistent.
</I>
Yes, IDN are covered by punycode, but the question remains whether I am allowed to use the unicode form in a link line.
=&gt; <A HREF="gemini://g&#233;meaux.example.com">gemini://g&#233;meaux.example.com</A> Is that legal?
 
&gt;<i> Assuming we don't do IRI paths in gemtext link lines, I don't really
</I>&gt;<i> have an clear opinion regarding IDNs, the choice is between:
</I>&gt;<i> * all clients need to convert to punycode when following a link, authors
</I>&gt;<i> can easily link to IDNs without a tool (though they're already using a
</I>&gt;<i> tool for unicode paths), somewhat inconsistent/strange
</I>&gt;<i> * fancy clients will convert from punycode when displaying a link,
</I>&gt;<i> authors need a tool to be able to easily make links to IDNs (though
</I>&gt;<i> they're already using a tool for unicode paths)
</I>
Yes.
I am for IDN in link lines, but I am also in favor of IRI in link lines.
And I would be supportive of using IRI in request line also for that matter. And redirect responses.

C&#244;me


</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="004079.html">Unicode vs. the World
</A></li>
	<LI>Next message (by thread): <A HREF="004091.html">Unicode vs. the World
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4080">[ date ]</a>
              <a href="thread.html#4080">[ thread ]</a>
              <a href="subject.html#4080">[ subject ]</a>
              <a href="author.html#4080">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
