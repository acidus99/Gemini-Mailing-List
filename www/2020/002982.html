<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Proposal about content-size and hash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Proposal%20about%20content-size%20and%20hash&In-Reply-To=%3CC6QKVASKBZ2U.3IFUDQN2O0ZS8%40gux%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002976.html">
   <LINK REL="Next"  HREF="002997.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Proposal about content-size and hash</H1>
    <B>Arav K.</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Proposal%20about%20content-size%20and%20hash&In-Reply-To=%3CC6QKVASKBZ2U.3IFUDQN2O0ZS8%40gux%3E"
       TITLE="Proposal about content-size and hash">nothien at uber.space
       </A><BR>
    <I>Fri Oct 30 22:27:10 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002976.html">Proposal about content-size and hash
</A></li>
        <LI>Next message (by thread): <A HREF="002997.html">Proposal about content-size and hash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2982">[ date ]</a>
              <a href="thread.html#2982">[ thread ]</a>
              <a href="subject.html#2982">[ subject ]</a>
              <a href="author.html#2982">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri Oct 30, 2020 at 12:06 PM UTC, Sean Conner wrote:
&gt;<i> Ah yes ... this is something I proposed back in August of 2019:
</I>&gt;<i>
</I>&gt;<i> <A HREF="gemini://gemini.conman.org/gRFC/0003">gemini://gemini.conman.org/gRFC/0003</A>
</I>&gt;<i>
</I>&gt;<i> Solderpunk has always rejected it when it comes up, mumbling
</I>&gt;<i> &quot;simplicity&quot; and &quot;not HTTP again&quot; under his breath.
</I>
It would be a useful optional header that simply requires a few lines of
info in the spec - I don't know what solderpunk is going on about.
Clients (that conform to the MIME parsing guidelines) will ignore it if
they don't recognize it.  It's not affecting anything else in the spec.

I understand to some extent solderpunk's fear of MIME type parameters
becoming the new HTTP header fields (or whatever they're called), but
this has always been around as an avenue of extension.  We can't even
specify that unrecognized MIME type parameters be considered errors,
because the MIME spec itself leaves open the possibility of adding more
parameters later.  I argue that if this avenue of extension is open, and
it cannot be closed, then may as well make (optional) use of it.

&gt;<i> Another issue with this is that the server might not know how big a
</I>&gt;<i> given response is---think dynamic output (via CGI/SCGI or similar). It
</I>&gt;<i> would have to be optional in any case.
</I>
For things like CGI, the server is expected to execute the CGI stuff
before sending a success response (in case the CGI fails; see the
CGI-specific error code in the spec).  Immediately after execution, it
would have the full response to send, so it can still provide the
content size.  Even then, it would still be optional to provide, as no
servers currently provide it.

&gt;<i> I also proposed something along these lines in August of 2019:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.orbitalfox.eu/archives/gemini/2019/000016.html">https://lists.orbitalfox.eu/archives/gemini/2019/000016.html</A>
</I>&gt;<i>
</I>&gt;<i> Read the thread to see how that turned out.
</I>
&gt;<i>From what it seems, you suggested the same thing I have a year back, and
</I>solderpunk said 'ah' and then it was forgotten.

Here's what solderpunk's last response to the idea from that thread had
been:

&gt;<i> Yeah, I think we can leave this for now.  It was a hypothetical
</I>&gt;<i> concern that somebody had.  Not necessarily a bad one, but until it's
</I>&gt;<i> observed actually creating significant trouble for actual users on
</I>&gt;<i> actual clients I think we can just table this issue.  If it does come
</I>&gt;<i> up as a practical concern, we can resume discussion of some of the
</I>&gt;<i> ideas here.
</I>
The problem has come up again, and more clients are looking for ways to
report this information.  I think we should 'officially' resume
discussion of this, and we can start by figuring out issues with this
MIME type parameter proposal.

In addition, someone reminded me how short content hashes are in
comparison to the available space in the META line.  Even SHA-512 takes
up only 140 characters out of the 1024 available on META, so we can
actually encode content-hash as well in the MIME type.  I understand
this is even more controversional than content-length, but I'm leaving
it out there for discussion.

~aravk | ~nothien
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002976.html">Proposal about content-size and hash
</A></li>
	<LI>Next message (by thread): <A HREF="002997.html">Proposal about content-size and hash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2982">[ date ]</a>
              <a href="thread.html#2982">[ thread ]</a>
              <a href="subject.html#2982">[ subject ]</a>
              <a href="author.html#2982">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
