<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Best practices in Gemini servers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Best%20practices%20in%20Gemini%20servers&In-Reply-To=%3CCAFTy05YSFChRxvb0sy76b0Ar8Q8UFv9wS%2BhktukpOxastu7%2B9g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000136.html">
   <LINK REL="Next"  HREF="000139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Best practices in Gemini servers</H1>
    <B>Michael Lazar</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Best%20practices%20in%20Gemini%20servers&In-Reply-To=%3CCAFTy05YSFChRxvb0sy76b0Ar8Q8UFv9wS%2BhktukpOxastu7%2B9g%40mail.gmail.com%3E"
       TITLE="Best practices in Gemini servers">lazar.michael22 at gmail.com
       </A><BR>
    <I>Wed Sep 11 03:47:47 BST 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000136.html">Best practices in Gemini servers
</A></li>
        <LI>Next message (by thread): <A HREF="000139.html">Fwd: elpher now supports gemini
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#138">[ date ]</a>
              <a href="thread.html#138">[ thread ]</a>
              <a href="subject.html#138">[ subject ]</a>
              <a href="author.html#138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Sep 10, 2019 at 3:35 PM Sean Conner &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">sean at conman.org</A>&gt; wrote:
&gt;<i> It was thus said that the Great Jason McBrayer once stated:
</I>&gt;<i> &gt; Sean Conner &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">sean at conman.org</A>&gt; writes:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;   I'm currently returning a &quot;Bad Request&quot; for this, if the protocol, host
</I>&gt;<i> &gt; &gt; and port don't match what is currently configured on my server.  The other
</I>&gt;<i> &gt; &gt; possible status is &quot;Proxy Request Refused&quot;.  My server doesn't do proxy
</I>&gt;<i> &gt; &gt; requests.  What should the proper status code be?  Is &quot;Bad Request&quot; fine
</I>&gt;<i> &gt; &gt; here?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In my opinion, the Most Correct response to return would be &quot;Proxy
</I>&gt;<i> &gt; Request Refused&quot;. If they had made the same request to a the right
</I>&gt;<i> &gt; server or if this server had been configured differently, it would have
</I>&gt;<i> &gt; succeeded, so the request isn't malformed or anything. But Bad Request
</I>&gt;<i> &gt; is probably the next-best response; Not Found would also make a kind of
</I>&gt;<i> &gt; sense.
</I>&gt;<i>
</I>&gt;<i>   Hmmm ... if my sever did any proxying, then yes, &quot;Proxy Request Refused&quot;
</I>&gt;<i> would make sense.  &quot;Not found&quot; doesn't, because the resource could be found,
</I>&gt;<i> not just through me.
</I>&gt;<i>
</I>&gt;<i>   I suppose I could serve up &quot;Proxy Request Refused&quot; ...
</I>
On Tue, Sep 10, 2019 at 3:35 PM Sean Conner &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">sean at conman.org</A>&gt; wrote:
&gt;<i> It was thus said that the Great Jason McBrayer once stated:
</I>&gt;<i> &gt; Sean Conner &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">sean at conman.org</A>&gt; writes:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;   I'm currently returning a &quot;Bad Request&quot; for this, if the protocol, host
</I>&gt;<i> &gt; &gt; and port don't match what is currently configured on my server.  The other
</I>&gt;<i> &gt; &gt; possible status is &quot;Proxy Request Refused&quot;.  My server doesn't do proxy
</I>&gt;<i> &gt; &gt; requests.  What should the proper status code be?  Is &quot;Bad Request&quot; fine
</I>&gt;<i> &gt; &gt; here?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In my opinion, the Most Correct response to return would be &quot;Proxy
</I>&gt;<i> &gt; Request Refused&quot;. If they had made the same request to a the right
</I>&gt;<i> &gt; server or if this server had been configured differently, it would have
</I>&gt;<i> &gt; succeeded, so the request isn't malformed or anything. But Bad Request
</I>&gt;<i> &gt; is probably the next-best response; Not Found would also make a kind of
</I>&gt;<i> &gt; sense.
</I>&gt;<i>
</I>&gt;<i>   Hmmm ... if my sever did any proxying, then yes, &quot;Proxy Request Refused&quot;
</I>&gt;<i> would make sense.  &quot;Not found&quot; doesn't, because the resource could be found,
</I>&gt;<i> not just through me.
</I>&gt;<i>
</I>&gt;<i>   I suppose I could serve up &quot;Proxy Request Refused&quot; ...
</I>
My server returns NOT FOUND only because it made the implementation simpler &amp;
cleaner to use the same response code for all unmatched URLs. Either the server
can locate the resource specified by the given URL, or it can't. It feels
arbitrary to make a distinction on whether it's the path component or the
hostname or the scheme that doesn't match. Perhaps I should be using PERMANENT
FAILURE instead since it's the more general 5x error code.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000136.html">Best practices in Gemini servers
</A></li>
	<LI>Next message (by thread): <A HREF="000139.html">Fwd: elpher now supports gemini
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#138">[ date ]</a>
              <a href="thread.html#138">[ thread ]</a>
              <a href="subject.html#138">[ subject ]</a>
              <a href="author.html#138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
