<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [SPEC] Backwards-compatible metadata in Gemini
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%5BSPEC%5D%20Backwards-compatible%20metadata%20in%20Gemini&In-Reply-To=%3C87wnuvgezi.fsf%40omarpolo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005677.html">
   <LINK REL="Next"  HREF="005583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SPEC] Backwards-compatible metadata in Gemini</H1>
    <B>Omar Polo</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%5BSPEC%5D%20Backwards-compatible%20metadata%20in%20Gemini&In-Reply-To=%3C87wnuvgezi.fsf%40omarpolo.com%3E"
       TITLE="[SPEC] Backwards-compatible metadata in Gemini">op at omarpolo.com
       </A><BR>
    <I>Fri Feb 26 13:01:21 GMT 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="005677.html">[SPEC] Backwards-compatible metadata in Gemini
</A></li>
        <LI>Next message (by thread): <A HREF="005583.html">[SPEC] Backwards-compatible metadata in Gemini
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5684">[ date ]</a>
              <a href="thread.html#5684">[ thread ]</a>
              <a href="subject.html#5684">[ subject ]</a>
              <a href="author.html#5684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Stephane Bortzmeyer &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">stephane at sources.org</A>&gt; writes:

&gt;<i> On Thu, Feb 25, 2021 at 10:16:52AM +0100,
</I>&gt;<i>  Omar Polo &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">op at omarpolo.com</A>&gt; wrote 
</I>&gt;<i>  a message of 161 lines which said:
</I>&gt;<i>
</I>&gt;&gt;<i>     As things stands, I know I can
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>     cat file1.gmi file2.gmi ... &gt; result.gmi
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>    and obtain a valid text/gemini file.
</I>&gt;<i>
</I>&gt;<i> One of the things missing in the current specification is a formal
</I>&gt;<i> grammar of gemtext, so there is currently no way to know if lines must
</I>&gt;<i> end with a end-of-line or is the end-of-file sufficient.
</I>&gt;<i>
</I>&gt;<i> =&gt; <A HREF="gemini://gemini.bortzmeyer.org/gemini/missing-eol.gmi">gemini://gemini.bortzmeyer.org/gemini/missing-eol.gmi</A> Example
</I>&gt;<i>
</I>&gt;<i> Amfora and Lagrange seem to accept the last line (the one without an
</I>&gt;<i> end-of-line). But your example with cat would break it, concatening
</I>&gt;<i> the last line of the first file with the first line of the second file.
</I>
It's not completely true.  This example was specifically for UNIX-like
systems where files are expected to end with a newline.  It's POSIX
fault, as it defines a line as a sequence of character ending with a \n:

<A HREF="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap03.html#tag_03_206">https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap03.html#tag_03_206</A>

(this isn't an excuse for clients to not handle them correctly though!)

&gt;&gt;<i> Also, the examples you gave in support of your proposals seems bogus
</I>&gt;&gt;<i> too.  Serving a mailing list archive over Gemini?  Cool, but why convert
</I>&gt;&gt;<i> the mails to text/gemini?  Wrapping them in ``` (with headers visible)
</I>&gt;&gt;<i> or serving them &quot;raw&quot; is not enough?
</I>&gt;<i>
</I>&gt;<i> Because humans (specially non-anglosaxon humans) have trouble with
</I>&gt;<i> &quot;From&quot;, &quot;Subject&quot; and &quot;Message-ID&quot;?
</I>
I can agree, but I find preferable something like

	# Hypothetical archive page for a Gemini mailing list in Italian

	Da: Omar Polo &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">op at omarpolo.com</A>&gt;
	A: &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">someone at example.com</A>&gt;
	CC: ...
	Oggetto: [spec] proposta per i metadatai

	```
	actual raw body of the e-mail...
	```

instead of

	-: x-mail-from=&quot;Omar Polo &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">op at omarpolo.com</A>&gt;&quot;
	-: x-mail-to=&lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">someone at example.com</A>&gt;
	-: x-mail-subject=&quot;...&quot;
	```
	...
	```

or even

	```
	actual body of the email
	```

	^^^
	from: ...
	to: ...
	...

&quot;Free-form metadata&quot;, as in simple text paragraphs made up like that,
are probably already widespread, intuitive for writers and readers, and
probably also &quot;simple enough&quot; for tools to grok, at least partially.  It
also solves localisation problems, because it's the author that is free
to pick the way he/she prefers to conveys the meaning for his/her
audience.  Different authors may choose different keys for the same
&quot;idea&quot; (i.e. &quot;Updated&quot;, &quot;last-updated&quot;, &quot;edited&quot; ...), that's true, this
solution is not without its drawbacks.

(ah, all of this without adding dangerous ways to extend the text format)

&gt;&gt;<i> If we want to build a better GUS I don't think that adding metadata
</I>&gt;&gt;<i> to text/gemini will solve anything, it will actually make things
</I>&gt;&gt;<i> worst.  The point is, you can't trust 3rd-parties metadata. [...]
</I>&gt;&gt;<i> people will abuse the metadata to &quot;go up&quot; in the search results, and
</I>&gt;&gt;<i> the outcome of that is crystal-clear on the Web,
</I>&gt;<i>
</I>&gt;<i> I'm not convinced by this &quot;look at the SEO mess&quot; argument. Gemini is
</I>&gt;<i> not the Web, there is no money at stake, marketing people and salesmen
</I>&gt;<i> frown upon Gemini (&quot;what, no pictures? No tracking?&quot;) so I really
</I>&gt;<i> doubt that many people would resort to dirty tricks just to be higher
</I>&gt;<i> in GUS' results.
</I>
I acknowledge that this is not a problem right now, and hopefully will
never be, but we should be aware of the troubles.  Adding a syntax for
metadata will (possibly) open the doors for tracking, styling, etc.
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="005677.html">[SPEC] Backwards-compatible metadata in Gemini
</A></li>
	<LI>Next message (by thread): <A HREF="005583.html">[SPEC] Backwards-compatible metadata in Gemini
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5684">[ date ]</a>
              <a href="thread.html#5684">[ thread ]</a>
              <a href="subject.html#5684">[ subject ]</a>
              <a href="author.html#5684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
