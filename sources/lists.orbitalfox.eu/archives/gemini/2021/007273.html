<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> chat over gemini (or, let's play with streaming text)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20chat%20over%20gemini%20%28or%2C%20let%27s%20play%20with%20streaming%20text%29&In-Reply-To=%3C20211005155210.v3xygg7ysuo7f4bm%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007270.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>chat over gemini (or, let's play with streaming text)</H1>
    <B>mbays</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20chat%20over%20gemini%20%28or%2C%20let%27s%20play%20with%20streaming%20text%29&In-Reply-To=%3C20211005155210.v3xygg7ysuo7f4bm%40localhost%3E"
       TITLE="chat over gemini (or, let's play with streaming text)">mbays at sdf.org
       </A><BR>
    <I>Tue Oct  5 16:52:10 BST 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007270.html">chat over gemini (or, let's play with streaming text)
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7273">[ date ]</a>
              <a href="thread.html#7273">[ thread ]</a>
              <a href="subject.html#7273">[ subject ]</a>
              <a href="author.html#7273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>* Monday, 2021-10-04 at 18:10 +0200 - Omar Polo &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">op at omarpolo.com</A>&gt;:

&gt;<i>I hope this inspires someone to build amazing things with the streaming
</I>&gt;<i>capability of text/gemini.  There are a lot of possibilities, for
</I>&gt;<i>instance capsules like station could stream the feed, or the
</I>&gt;<i>notification page; it could be better than clients continously
</I>&gt;<i>refreshing the page.
</I>
DNA implemented thread notifications this way:
=&gt; <A HREF="gemini://nixo.xyz/notifications">gemini://nixo.xyz/notifications</A>

My game server SGGS also uses this kind of technique -- after making 
your move, you leave the stream open, and once your opponent moves the 
new game state will be appended to the stream; also any chat messages 
are sent in real time.

=&gt; <A HREF="gemini://gemini.thegonz.net/sggs">gemini://gemini.thegonz.net/sggs</A> sggs

Unlike mozz's and your approaches, this uses a single page which 
includes the links to chat/move. There's one annoyance with this 
single-page approach to real-time chat: there's no way to know for sure 
which messages were received by the user before they interrupted the 
stream to make a new request. So you either have to accept that some 
messages might be lost, or you have to repeat messages. I took the 
safest approach: every chat message sent during the streaming period 
after the initial response is sent again as part of the initial response 
to the next request.

&gt;<i>Gemini clients could &quot;ring&quot; or use some other kind of mechanism to
</I>&gt;<i>inform the user that more content is available in a page (for
</I>&gt;<i>e.g. Telescope adds a `!'  before the tab title.)
</I>
For terminal clients, I don't think this is really necessary, because 
monitoring for movement is something you can leave up to the terminal 
/ terminal multiplexer (e.g. the 'monitor' command in GNU screen). But 
it doesn't hurt.

By the way, anyone wanting an easy way to test their (favourite) 
client's handling of streams can use this test page:
=&gt; <A HREF="gemini://gemini.thegonz.net/sggs/streamtest">gemini://gemini.thegonz.net/sggs/streamtest</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 195 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.orbitalfox.eu/archives/gemini/attachments/20211005/eb1fe857/attachment.sig">https://lists.orbitalfox.eu/archives/gemini/attachments/20211005/eb1fe857/attachment.sig</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007270.html">chat over gemini (or, let's play with streaming text)
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7273">[ date ]</a>
              <a href="thread.html#7273">[ thread ]</a>
              <a href="subject.html#7273">[ subject ]</a>
              <a href="author.html#7273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
