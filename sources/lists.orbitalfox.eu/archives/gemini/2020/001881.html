<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Working around implementation quirks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Working%20around%20implementation%20quirks&In-Reply-To=%3C518d3b0c-4a13-42fa-827a-f462b4a40970%40case.codes%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001873.html">
   <LINK REL="Next"  HREF="001883.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Working around implementation quirks</H1>
    <B>Case Nelson</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Working%20around%20implementation%20quirks&In-Reply-To=%3C518d3b0c-4a13-42fa-827a-f462b4a40970%40case.codes%3E"
       TITLE="Working around implementation quirks">me at case.codes
       </A><BR>
    <I>Wed Jun 24 23:21:12 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001873.html">[ANN] deedum browser update
</A></li>
        <LI>Next message (by thread): <A HREF="001883.html">Working around implementation quirks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1881">[ date ]</a>
              <a href="thread.html#1881">[ thread ]</a>
              <a href="subject.html#1881">[ subject ]</a>
              <a href="author.html#1881">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I worked around it, I found that mozz.us closed the connection properly if I sent a no_write shutdown signal from my side. But doing that on tilde.black caused them to close the connection and not send a response. It happened regardless of redirects as far as I paid attention to that aspect.

So, I send the signal, and if I get no response I make the request again without the signal and wait for a timeout... Pretty gross and I'll need to change it eventually since it's no fair to the operators.

As implementers tho, I wonder if we shouldn't be working around problems like this (assuming it's on the other side). Should we be strict with out of spec implementations? I feel that the attitude of trying to parse bad html and weird headers is partially what led to the mess in the web early on... But if some clients start working around that stuff, then ones that don't will be considered broken.

Jun 24, 2020 2:26:12 PM Sean Conner &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">sean at conman.org</A>&gt;:

&gt;<i> It was thus said that the Great <A HREF="https://lists.orbitalfox.eu/listinfo/gemini">colecmac at protonmail.com</A> once stated:
</I>&gt;&gt;<i> Happy to see an update!
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I may have had a related issue, I remember having trouble with redirects
</I>&gt;&gt;<i> on tilde.black and gemini.conman.org. In the end the issue was that they
</I>&gt;&gt;<i> were closing *right after* sending the redirect, I think, and I wasn't
</I>&gt;&gt;<i> capturing the last few bytes. But I was using Go, not Flutter, so I'm not
</I>&gt;&gt;<i> sure how much this helps.
</I>&gt;<i> 
</I>&gt;<i> How did you fix the issue?&#160; Or did you?
</I>&gt;<i> 
</I>&gt;<i> -spc
</I>&gt;<i> 
</I></PRE>






































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001873.html">[ANN] deedum browser update
</A></li>
	<LI>Next message (by thread): <A HREF="001883.html">Working around implementation quirks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1881">[ date ]</a>
              <a href="thread.html#1881">[ thread ]</a>
              <a href="subject.html#1881">[ subject ]</a>
              <a href="author.html#1881">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
