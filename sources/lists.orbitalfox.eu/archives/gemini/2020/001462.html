<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> A client SHOULD NOT send the fragment part of a URL to the server?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20A%20client%20SHOULD%20NOT%20send%20the%20fragment%20part%20of%20a%20URL%20to%20the%20server%3F&In-Reply-To=%3C5EDFEFB2.5020608%40marmaladefoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001454.html">
   <LINK REL="Next"  HREF="001455.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>A client SHOULD NOT send the fragment part of a URL to the server?</H1>
    <B>Luke Emmet</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20A%20client%20SHOULD%20NOT%20send%20the%20fragment%20part%20of%20a%20URL%20to%20the%20server%3F&In-Reply-To=%3C5EDFEFB2.5020608%40marmaladefoo.com%3E"
       TITLE="A client SHOULD NOT send the fragment part of a URL to the server?">luke at marmaladefoo.com
       </A><BR>
    <I>Tue Jun  9 21:23:14 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001454.html">A client SHOULD NOT send the fragment part of a URL to the server?
</A></li>
        <LI>Next message (by thread): <A HREF="001455.html">A client SHOULD NOT send the fragment part of a URL to the server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1462">[ date ]</a>
              <a href="thread.html#1462">[ thread ]</a>
              <a href="subject.html#1462">[ subject ]</a>
              <a href="author.html#1462">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 09-Jun-2020 21:00, solderpunk wrote:
&gt;<i> On Tue, Jun 09, 2020 at 09:46:56PM +0200, Petite Abeille wrote:
</I>&gt;&gt;<i> &quot;A client SHOULD NOT send the fragment part of a URL to the server.&quot;
</I>&gt;&gt;<i> -- Sean Conner, Resource request format for Gemini' states, circa 2019-08-01
</I>&gt;&gt;<i> <A HREF="https://portal.mozz.us/gemini/gemini.conman.org/gRFC/0002">https://portal.mozz.us/gemini/gemini.conman.org/gRFC/0002</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Such restriction is not reflected in the spec itself.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> At the same time, the spec mentions header lines as &quot;machine-readable representation of the internal structure of the document&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Could one reflect such structure using fragments?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> E.g.:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="gemini://gemini.circumlunar.space/docs/specification.gm#5.4+Core+line+types">gemini://gemini.circumlunar.space/docs/specification.gm#5.4+Core+line+types</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Part of the gemini canon?
</I>&gt;<i> It's certainly something people have suggested.  I guess to make it work
</I>&gt;<i> reliably would require a very strict specification of how to transform
</I>&gt;<i> headings into fragments, which sounds fiddly and dull...
</I>&gt;<i>
</I>&gt;<i> Either that, or we allow just numeric fragments like 3.2, which the
</I>&gt;<i> client is supposed to map to the second subsection of the third section.
</I>&gt;<i>
</I>
The canonical way to do this in Markdown (and more widely on the web) 
seems to be lowercase kebab case of the alphabetic content, with single 
hyphens

So it would be

<A HREF="gemini://gemini.circumlunar.space/docs/specification.gm#core-line-types">gemini://gemini.circumlunar.space/docs/specification.gm#core-line-types</A>

This is much more robust than having an offset index like 3.2, which will break all the links if you add a new section 1 to the page. I will probably implement this scheme in GemiNaut when I get round to it. The case insensitivity means you can change your mind about title casing on the heading and things still generally work fine.

I think the behaviour can be the same as on the web where the fragment behaviour degrades well. If there is no such fragment, or the client does not support them, there is no scrolling to the offset.

I think it is just a matter for the client authors to agree on (where they implement it). If it is in the spec, or accompanying guidance that might be nice, but not essential at the moment.

Best wishes

  - Luke

</PRE>


























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001454.html">A client SHOULD NOT send the fragment part of a URL to the server?
</A></li>
	<LI>Next message (by thread): <A HREF="001455.html">A client SHOULD NOT send the fragment part of a URL to the server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1462">[ date ]</a>
              <a href="thread.html#1462">[ thread ]</a>
              <a href="subject.html#1462">[ subject ]</a>
              <a href="author.html#1462">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
