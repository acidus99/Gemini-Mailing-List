<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> On certificates and validation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20On%20certificates%20and%20validation&In-Reply-To=%3CCAFTy05ah4XiwBDAfVFQL-ZvEuS0t7EVFyaukopjuhHoSH9T8MA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003601.html">
   <LINK REL="Next"  HREF="003557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>On certificates and validation</H1>
    <B>Michael Lazar</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20On%20certificates%20and%20validation&In-Reply-To=%3CCAFTy05ah4XiwBDAfVFQL-ZvEuS0t7EVFyaukopjuhHoSH9T8MA%40mail.gmail.com%3E"
       TITLE="On certificates and validation">lazar.michael22 at gmail.com
       </A><BR>
    <I>Fri Nov 27 05:06:27 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003601.html">On certificates and validation
</A></li>
        <LI>Next message (by thread): <A HREF="003557.html">[ANN] Twink, a CLI Gemini client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3604">[ date ]</a>
              <a href="thread.html#3604">[ thread ]</a>
              <a href="subject.html#3604">[ subject ]</a>
              <a href="author.html#3604">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Nov 26, 2020 at 7:04 PM John Cowan &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">cowan at ccil.org</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Thu, Nov 26, 2020 at 1:41 PM Michael Lazar &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">lazar.michael22 at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I fully agree that the expiration date is useless in TOFU schemes.
</I>&gt;<i>
</I>&gt;<i> However, they make all kinds of sense in client certs. If you see an expired
</I>&gt;<i> cert coming from a client, it is most likely a replay attack (or a broken
</I>&gt;<i> client). If the client cert is meant for user identification, you will of
</I>&gt;<i> course need to provide the hash of the newly created cert to the server
</I>&gt;<i> administrator.
</I>
I think you're referring to a compromised client certificate and not a replay
attack [0]. If you truly mean replay attack as in a MITM where neither the
client or server has been compromised, I would be *very* interested in learning
more about this because I thought the TLS handshake was resistant to this type
of replay.

On compromised client certificates: A compromised client certificate is in the
same boat that a compromised server certificate would be in. There is no
recourse within the TOFU model. You can rotate the cert, but the expiration
date doesn't protect you against anything. Sending new fingerprints to the
server administrator out-of-band would surely work, but you are no longer using
trust on first use.

You can argue that TOFU is a crappy model for client certificates since client
certs are typically used to grant access to verified identities. I would
mostly agree with that, although working on astrobotany has shown me that there
*are* at least some valid use cases for client TOFU schemes.

What this comes down to - *I think* - is that people are conflating trust on
first use with &quot;anything but the web's root CAs&quot;. There are many valid
ways to establish trust, each with their own tradeoffs:

- PKI with a small number of universally recognized root CAs (the web)
- PKI with self-managed CAs
- Trust on first use
- Passing around certificate fingerprints over email
- ...

These can be mixed and matched between the server and client sides of the
connection, too.

- Michael

[0] <A HREF="https://en.wikipedia.org/wiki/Replay_attack">https://en.wikipedia.org/wiki/Replay_attack</A>
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003601.html">On certificates and validation
</A></li>
	<LI>Next message (by thread): <A HREF="003557.html">[ANN] Twink, a CLI Gemini client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3604">[ date ]</a>
              <a href="thread.html#3604">[ thread ]</a>
              <a href="subject.html#3604">[ subject ]</a>
              <a href="author.html#3604">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
