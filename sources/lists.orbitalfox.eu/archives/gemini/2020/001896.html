<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> SPOOFED: Re: [ANN] Tiny ad-hoc server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20SPOOFED%3A%20Re%3A%20%5BANN%5D%20Tiny%20ad-hoc%20server&In-Reply-To=%3CstSWi7Ym4kO8LsHPDBzzfrqmadZHHhZZaZRmLmaZlXiRMUHKu_FhUN06JDZ16YyV2sFBsx9sJfEBNDif2zNGt6leN8gPiyqxrsTX4CS3ybk%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001894.html">
   <LINK REL="Next"  HREF="001908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>SPOOFED: Re: [ANN] Tiny ad-hoc server</H1>
    <B>defdefred</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20SPOOFED%3A%20Re%3A%20%5BANN%5D%20Tiny%20ad-hoc%20server&In-Reply-To=%3CstSWi7Ym4kO8LsHPDBzzfrqmadZHHhZZaZRmLmaZlXiRMUHKu_FhUN06JDZ16YyV2sFBsx9sJfEBNDif2zNGt6leN8gPiyqxrsTX4CS3ybk%3D%40protonmail.com%3E"
       TITLE="SPOOFED: Re: [ANN] Tiny ad-hoc server">defdefred at protonmail.com
       </A><BR>
    <I>Thu Jun 25 13:30:27 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001894.html">SPOOFED: Re: [ANN] Tiny ad-hoc server
</A></li>
        <LI>Next message (by thread): <A HREF="001908.html">SPOOFED: Re: [ANN] Tiny ad-hoc server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1896">[ date ]</a>
              <a href="thread.html#1896">[ thread ]</a>
              <a href="subject.html#1896">[ subject ]</a>
              <a href="author.html#1896">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok I'm dumb... don't saw the braces :-)

Bash process substitution will do too

#!/bin/sh

port=&quot;1965&quot;
cert=&quot;cert.pem&quot;
key=&quot;key.pem&quot;

printf &quot;Starting gemini server on port %s...\n&quot; &quot;$port&quot;
while true; do
    ncat --ssl --ssl-cert &quot;$cert&quot; --ssl-key &quot;$key&quot; --listen &quot;$port&quot; &lt;( \
    printf &quot;20 text/gemini; charset=utf-8\r\n&quot; ; \
    printf &quot;Page generated: %s\n\n&quot; &quot;$(date)&quot; ; \
    cat &quot;$1&quot; )
done

freD.

&#8208;&#8208;&#8208;&#8208;&#8208;&#8208;&#8208; Original Message &#8208;&#8208;&#8208;&#8208;&#8208;&#8208;&#8208;
On Thursday 25 June 2020 14:09, James Tomasino &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">tomasino at lavabit.com</A>&gt; wrote:

&gt;<i> On 6/25/20 11:34 AM, defdefred wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I don't understand how the infinite while works in this case...
</I>&gt;<i> &gt; Is it consuming cpu all the time?
</I>&gt;<i>
</I>&gt;<i> ncat waits only for a single connection, then terminates. I tried using the switch to keep the connection alive and reuse it, but that means the connection is never closed on any single request and most clients display nothing. By wrapping it in an infinite while I just tell ncat to start a new listener when the previous one is used. There's only ever one running at a time, and it's a single thread, but traffic is low and it seems to work just fine.
</I>

</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001894.html">SPOOFED: Re: [ANN] Tiny ad-hoc server
</A></li>
	<LI>Next message (by thread): <A HREF="001908.html">SPOOFED: Re: [ANN] Tiny ad-hoc server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1896">[ date ]</a>
              <a href="thread.html#1896">[ thread ]</a>
              <a href="subject.html#1896">[ subject ]</a>
              <a href="author.html#1896">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
