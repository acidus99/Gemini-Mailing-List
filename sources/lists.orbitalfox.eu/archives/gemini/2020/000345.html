<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Text reflow woes (or: I want bullets back!)y
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Text%20reflow%20woes%20%28or%3A%20I%20want%20bullets%20back%21%29y&In-Reply-To=%3C20200117142715.GA23881%40SDF.ORG%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000344.html">
   <LINK REL="Next"  HREF="000346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Text reflow woes (or: I want bullets back!)y</H1>
    <B>solderpunk</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Text%20reflow%20woes%20%28or%3A%20I%20want%20bullets%20back%21%29y&In-Reply-To=%3C20200117142715.GA23881%40SDF.ORG%3E"
       TITLE="Text reflow woes (or: I want bullets back!)y">solderpunk at SDF.ORG
       </A><BR>
    <I>Fri Jan 17 14:27:15 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000344.html">Text reflow woes (or: I want bullets back!)y
</A></li>
        <LI>Next message (by thread): <A HREF="000346.html">Text reflow woes (or: I want bullets back!)y
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#345">[ date ]</a>
              <a href="thread.html#345">[ thread ]</a>
              <a href="subject.html#345">[ subject ]</a>
              <a href="author.html#345">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jan 17, 2020 at 08:58:04AM -0500, lel wrote:
&gt;<i> 
</I>&gt;<i> Yes, this is exactly what I was trying to say.
</I>
Ah, right, sorry for not getting that.  I think this whole conversation,
despite Sean's best efforts to give us formally defined terms, is
suffering a lot from the fact that things like &quot;reflowing&quot; mean
different things to different people or in different contexts, so we're
often talking past each other.

We'd still need ``` in this system, right, to avoid e.g. long lines of
source getting mangled on very narrow phone screens?  So minimal
rendering pseudocode looks like this:

preformatted = False
for line in all_the_lines:
    if line == &quot;```&quot;:
        preformatted = not preformatted
    elif preformatted:
        print(line)
    elif line.startwith(&quot;=&gt;&quot;):
        handle_link(line)
    else:
        wrap_line_to_viewport(line)

Where wrap_line_to_viewport may need to be written by the user if there
isn't a library function (and should print empty lines if given them).

Non-minimal rendering just involves replacing that final &quot;else&quot; clause
with more &quot;elifs&quot; to catch e.g. list items or headers (dispatching to
different functions, like wrap_bold_line_to_viewport to display headings
in bold).  You can add as many or as few of those extra clauses as you
like to pretty things up, as long as whatever prettiness you want
doesn't depend upon anything.

If this rendering code *is* fed text/gemini that has been hard wrapped
to a width less than or equal to the viewport, that text comes back
unmangled (but narrower than it otherwise could be). 

Are there really no catches beyond this?  I'm sure there must be, but if
not I guess the next thing to do is to start thinking about how
difficult a &quot;good enough&quot; (not necessarily perfect) implementation of
wrap_line_to_viewport is in most languages, and decide whether or not we
think that burden is too high.

Cheers,
Solderpunk
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000344.html">Text reflow woes (or: I want bullets back!)y
</A></li>
	<LI>Next message (by thread): <A HREF="000346.html">Text reflow woes (or: I want bullets back!)y
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#345">[ date ]</a>
              <a href="thread.html#345">[ thread ]</a>
              <a href="subject.html#345">[ subject ]</a>
              <a href="author.html#345">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
