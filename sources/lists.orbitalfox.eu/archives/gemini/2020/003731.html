<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Hosting several sites on the same host
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Hosting%20several%20sites%20on%20the%20same%20host&In-Reply-To=%3C87mtywo67e.fsf%40omarpolo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003730.html">
   <LINK REL="Next"  HREF="003732.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Hosting several sites on the same host</H1>
    <B>Omar Polo</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Hosting%20several%20sites%20on%20the%20same%20host&In-Reply-To=%3C87mtywo67e.fsf%40omarpolo.com%3E"
       TITLE="Hosting several sites on the same host">op at omarpolo.com
       </A><BR>
    <I>Wed Dec  2 10:25:25 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003730.html">Hosting several sites on the same host
</A></li>
        <LI>Next message (by thread): <A HREF="003732.html">Hosting several sites on the same host
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3731">[ date ]</a>
              <a href="thread.html#3731">[ thread ]</a>
              <a href="subject.html#3731">[ subject ]</a>
              <a href="author.html#3731">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
C&#244;me Chilliet &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">come at chilliet.eu</A>&gt; writes:

&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I&#8217;m lost with how sockets and TLS works, how can I host several gemini sites on the same host?
</I>&gt;<i>
</I>&gt;<i> I cannot read the request before setting up TLS, but I need to know which hostname is requested to serve the correct certificate.
</I>&gt;<i>
</I>&gt;<i> So I guess either:
</I>&gt;<i> 1) It&#8217;s possible to have several programs listen on the same port using different hostname?
</I>&gt;<i> 2) It&#8217;s possible for a program which listen on a port to know which hostname was requested before TLS handshake?
</I>&gt;<i>
</I>&gt;<i> I use stream_socket_server and stream_socket_accept in PHP and did not find how to get requested hostname.
</I>&gt;<i>
</I>&gt;<i> I did not find good documentation on the purpose of the target in the socket name. I use <A HREF="tcp://[::">tcp://[::</A>]:1965 currently.
</I>&gt;<i> I do not understand what it does to put a hostname instead of [::] in there.
</I>&gt;<i>
</I>&gt;<i> C&#244;me
</I>
You should use the Server Name Indication (SNI) TLS extension.  Gemini
clients have to support SNI, by the spec.  Basically, clients in the TLS
handshake will tell you to which hostname they want to talk to, so you
can use the appropriate certificate.

Unfortunately I am not knowledgable in PHP, so I cannot help you further.
</PRE>












































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003730.html">Hosting several sites on the same host
</A></li>
	<LI>Next message (by thread): <A HREF="003732.html">Hosting several sites on the same host
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3731">[ date ]</a>
              <a href="thread.html#3731">[ thread ]</a>
              <a href="subject.html#3731">[ subject ]</a>
              <a href="author.html#3731">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
