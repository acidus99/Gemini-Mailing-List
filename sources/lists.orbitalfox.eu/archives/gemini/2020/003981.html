<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Good practices regarding MIME type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Good%20practices%20regarding%20MIME%20type&In-Reply-To=%3CCAD2gp_Q6VvV4F1oXCMxg4%2B1Z-JuEijy9xs20BZVuDkEJsVYs2w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003980.html">
   <LINK REL="Next"  HREF="003979.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Good practices regarding MIME type</H1>
    <B>John Cowan</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Good%20practices%20regarding%20MIME%20type&In-Reply-To=%3CCAD2gp_Q6VvV4F1oXCMxg4%2B1Z-JuEijy9xs20BZVuDkEJsVYs2w%40mail.gmail.com%3E"
       TITLE="Good practices regarding MIME type">cowan at ccil.org
       </A><BR>
    <I>Thu Dec 10 21:30:47 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003980.html">Good practices regarding MIME type
</A></li>
        <LI>Next message (by thread): <A HREF="003979.html">Good practices regarding MIME type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3981">[ date ]</a>
              <a href="thread.html#3981">[ thread ]</a>
              <a href="subject.html#3981">[ subject ]</a>
              <a href="author.html#3981">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>libmagic uses the local mime-types file(s) but is conditionalized to know
where they are on different operating systems, so it's better to use it,
even if it is not installed by default.

On Thu, Dec 10, 2020 at 4:26 PM Omar Polo &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">op at omarpolo.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> Sol&#232;ne Rapenne &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">solene at perso.pw</A>&gt; writes:
</I>&gt;<i>
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I wrote a gemini server in C and I currently use an hardcoded list of
</I>&gt;<i> &gt; file extensions &lt;-&gt; MIME type assocation.
</I>&gt;<i> &gt; This isn't great because it relies on file extension which can be
</I>&gt;<i> &gt; wrong, but a file without extension would
</I>&gt;<i> &gt; use a default.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I chose to set a default text/gemini in case the extension is unknown
</I>&gt;<i> &gt; or if the file has no extension.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What are the good practices to determine a file MIME type?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; regards
</I>&gt;<i> &gt; Sol&#232;ne
</I>&gt;<i>
</I>&gt;<i> I'm using the same approach in my server, but there are two alternatives
</I>&gt;<i> I know:
</I>&gt;<i>
</I>&gt;<i>  - using /usr/share/misc/mime.types (still a list, but probably more
</I>&gt;<i>    complete than a manual one).  Don't know if it's widespread, but
</I>&gt;<i>    it's present in base on OpenBSD :)
</I>&gt;<i>  - using libmagic: it's a library to detect the MIME type by reading the
</I>&gt;<i>    file.  it powers the file(1) command on some unices.  The drawback is
</I>&gt;<i>    that it needs to open and read the file, whereas guessing from the
</I>&gt;<i>    extension doesn't.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.orbitalfox.eu/archives/gemini/attachments/20201210/df9c7b33/attachment.htm">https://lists.orbitalfox.eu/archives/gemini/attachments/20201210/df9c7b33/attachment.htm</A>&gt;
</PRE>





















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003980.html">Good practices regarding MIME type
</A></li>
	<LI>Next message (by thread): <A HREF="003979.html">Good practices regarding MIME type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3981">[ date ]</a>
              <a href="thread.html#3981">[ thread ]</a>
              <a href="subject.html#3981">[ subject ]</a>
              <a href="author.html#3981">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
