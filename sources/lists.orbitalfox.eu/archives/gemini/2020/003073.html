<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Gemini file downloading client - a thought experiment
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Gemini%20file%20downloading%20client%20-%20a%20thought%20experiment&In-Reply-To=%3CCAObwWNjaa7JzScSmOAy8NG0RZvMHzH9ThM%2BnUb%2BVBTQ45v_boQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003044.html">
   <LINK REL="Next"  HREF="003074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Gemini file downloading client - a thought experiment</H1>
    <B>Katarina Eriksson</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Gemini%20file%20downloading%20client%20-%20a%20thought%20experiment&In-Reply-To=%3CCAObwWNjaa7JzScSmOAy8NG0RZvMHzH9ThM%2BnUb%2BVBTQ45v_boQ%40mail.gmail.com%3E"
       TITLE="Gemini file downloading client - a thought experiment">gmym at coopdot.com
       </A><BR>
    <I>Thu Nov  5 21:09:54 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003044.html">Gemini file downloading client - a thought experiment
</A></li>
        <LI>Next message (by thread): <A HREF="003074.html">Gemini file downloading client - a thought experiment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3073">[ date ]</a>
              <a href="thread.html#3073">[ thread ]</a>
              <a href="subject.html#3073">[ subject ]</a>
              <a href="author.html#3073">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ali Fardan &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">raiz at stellarbound.space</A>&gt; wrote:

&gt;<i> &gt; Scenario 3: download a big file
</I>&gt;<i>
</I>
[...]

Implementing this would be tricky on the server side, this would add
&gt;<i> unnecessary complexity,
</I>

Yes, the server would need to be able to accept and respond to other
connections while the file is transmitted. It also needs either be able to
run CGI scripts or have custom code for that endpoint.

what I would suggest instead if you really insist on using Gemini for large
&gt;<i> file transfers is specifying file size
</I>&gt;<i> in the link label like so:
</I>&gt;<i>
</I>&gt;<i> =&gt; <A HREF="gemini://example.tld/large_file.bin">gemini://example.tld/large_file.bin</A> Download (140 MB)
</I>&gt;<i>
</I>&gt;<i> and then have the client show how much of the file is downloaded, now
</I>&gt;<i> that you know the file size, and know how much is downloaded, you don't
</I>&gt;<i> need a progress indicator to be implemented within the protocol.  Of
</I>&gt;<i> course this is on the client to implement, but wouldn't be tricky at
</I>&gt;<i> all.
</I>&gt;<i>
</I>
Foster an environment where capsule authors are good enough internet
citizens to always provide the file size on the page? Sure, that wouldn't
be tricky at
all.

Corrected:
Scenario 3.1: download a big file and the capsule author neglected to
provide a file size

&gt;<i> Scenario 4: the TLS session terminated cleanly but we don't have full
</I>&gt;<i>
</I>&gt;<i> confidence the download succeed
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Verify the file using the information we have (from scenario 3) or
</I>&gt;<i> &gt; present the user with the option to fetch a hash from the
</I>&gt;<i> &gt; standardized endpoint.
</I>&gt;<i>
</I>&gt;<i> This does not have to be embedded in the protocol, just do this:
</I>&gt;<i>
</I>&gt;<i> SHA1: ad7ff785f989c9ff9cec92bd3d0bab035a54e997
</I>&gt;<i> SHA256: d2af944fe8b3af5cf5a9d8c3226d06ac6369d036fc591363dedc85344bc4daa7
</I>&gt;<i> =&gt; <A HREF="gemini://example.tld/large_file.bin">gemini://example.tld/large_file.bin</A> Download (140 MB)
</I>&gt;<i>
</I>&gt;<i> now the user can verify their downloaded file, this is done all the
</I>&gt;<i> time even in HTTP land.
</I>&gt;<i>
</I>
I would personally prefer the way we did it with FTP and provide a
large_file.bin.md5sum or now large_file.bin.sha1sum, but I would use
another protocol for large files.

-- 
Katarina

&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.orbitalfox.eu/archives/gemini/attachments/20201105/b7853464/attachment.htm">https://lists.orbitalfox.eu/archives/gemini/attachments/20201105/b7853464/attachment.htm</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003044.html">Gemini file downloading client - a thought experiment
</A></li>
	<LI>Next message (by thread): <A HREF="003074.html">Gemini file downloading client - a thought experiment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3073">[ date ]</a>
              <a href="thread.html#3073">[ thread ]</a>
              <a href="subject.html#3073">[ subject ]</a>
              <a href="author.html#3073">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
