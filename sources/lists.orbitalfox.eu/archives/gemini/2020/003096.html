<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> libmagic
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20libmagic&In-Reply-To=%3C20201107010831.GA30302%40brevard.conman.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003095.html">
   <LINK REL="Next"  HREF="003097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>libmagic</H1>
    <B>Sean Conner</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20libmagic&In-Reply-To=%3C20201107010831.GA30302%40brevard.conman.org%3E"
       TITLE="libmagic">sean at conman.org
       </A><BR>
    <I>Sat Nov  7 01:08:31 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003095.html">libmagic
</A></li>
        <LI>Next message (by thread): <A HREF="003097.html">libmagic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3096">[ date ]</a>
              <a href="thread.html#3096">[ thread ]</a>
              <a href="subject.html#3096">[ subject ]</a>
              <a href="author.html#3096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It was thus said that the Great John Cowan once stated:
&gt;<i> This post is to suggest that servers currently using file extensions to
</I>&gt;<i> determine MIME-types switch to libmagic.  
</I>
  The first Gemini server, GLV-1.12556, uses libmagic, and always has.  I
consider that an implementation detail.

&gt;<i> Unfortunately, at the moment `file --mime`  will report either &quot;text/plain;
</I>&gt;<i> charset=utf-8&quot; or &quot;text/plain; charset=us-ascii&quot; instead of text/gemini.
</I>&gt;<i> So an interesting question is: how can a text/gemini file best be
</I>&gt;<i> identified by its content? It doesn't have to be infallible, because it can
</I>&gt;<i> be backed up by checking the extension.
</I>
  GLV-1.12556 allows one to specify MIME type by extension; if no such
information is available, it will then fall back to libmagic for the MIME
type.  You can also spcify such an extension mapping for the entire server,
per host, per directory or per file [1].

  -spc (You can check the sample-conf.lua file for more information [2])
  
[1]	It also cascades---the various levels are merged at configuration
	file to avoid processing overhead during normal operations.

[2]	<A HREF="https://github.com/spc476/GLV-1.12556">https://github.com/spc476/GLV-1.12556</A>
</PRE>






















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003095.html">libmagic
</A></li>
	<LI>Next message (by thread): <A HREF="003097.html">libmagic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3096">[ date ]</a>
              <a href="thread.html#3096">[ thread ]</a>
              <a href="subject.html#3096">[ subject ]</a>
              <a href="author.html#3096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
