<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> =?utf-8?Q?What=E2=80=99s_?=considered proxying in Gemini?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%3D%3Futf-8%3FQ%3FWhat%3DE2%3D80%3D99s_%3F%3Dconsidered%20proxying%20in%20Gemini%3F&In-Reply-To=%3Cb5bba637-67bf-4b82-8112-1cac91d50558%40Spark%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002065.html">
   <LINK REL="Next"  HREF="002061.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>=?utf-8?Q?What=E2=80=99s_?=considered proxying in Gemini?</H1>
    <B>traderbeckola at tahoma.com</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20%3D%3Futf-8%3FQ%3FWhat%3DE2%3D80%3D99s_%3F%3Dconsidered%20proxying%20in%20Gemini%3F&In-Reply-To=%3Cb5bba637-67bf-4b82-8112-1cac91d50558%40Spark%3E"
       TITLE="=?utf-8?Q?What=E2=80=99s_?=considered proxying in Gemini?">traderbeckola at tahoma.com
       </A><BR>
    <I>Sun Jul  5 17:29:58 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="002065.html">=?utf-8?Q?What=E2=80=99s_?=considered proxying in Gemini?
</A></li>
        <LI>Next message (by thread): <A HREF="002061.html">Adding Gemini support to edbrowse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2069">[ date ]</a>
              <a href="thread.html#2069">[ thread ]</a>
              <a href="subject.html#2069">[ subject ]</a>
              <a href="author.html#2069">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I figured it out. I think. Case sensitivity.
On Jul 5, 2020, 09:15 -0400, solderpunk &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">solderpunk at SDF.ORG</A>&gt;, wrote:
&gt;<i> On Sun, Jul 05, 2020 at 08:15:57AM -0400, <A HREF="https://lists.orbitalfox.eu/listinfo/gemini">traderbeckola at tahoma.com</A> wrote:
</I>&gt;<i> &gt; I played with commenting out the code block in molly-brown that&#8217;s relevant to the proxy test; that change will allow the client to connect.
</I>&gt;<i>
</I>&gt;<i> No doubt, but that does nothing to fix the fact that something is
</I>&gt;<i> clearly wrong wrong somewhere.
</I>&gt;<i>
</I>&gt;<i> Gemini requests are URLs, with hostnames in them. It's possible in
</I>&gt;<i> principle to connect to the foo.com host and send it a request for
</I>&gt;<i> <A HREF="gemini://bar.net,">gemini://bar.net,</A> and its possible in principle for foo.com to respond
</I>&gt;<i> to this by sending the request on to bar.net and then relaying the
</I>&gt;<i> response to the original client. This is what is meant by &quot;proxying&quot; in
</I>&gt;<i> Gemini.
</I>&gt;<i>
</I>&gt;<i> It is rarely used, and with good reason, as Gemini servers used as
</I>&gt;<i> proxies are also &quot;men in the middle&quot;. There are legitimate uses,
</I>&gt;<i> though: my Agena software will accept Gemini requests for <A HREF="gopher://">gopher://</A>
</I>&gt;<i> URLs, fetch them and the translate Gopher menus into gemtext. I run it
</I>&gt;<i> on localhost so it's just &quot;me spying on me&quot;. It lets me use AV-98
</I>&gt;<i> (which can be configured to forward <A HREF="gopher://">gopher://</A> requests to such a proxy)
</I>&gt;<i> as both a Gemini client and Gopher client seamlessly, without having to
</I>&gt;<i> actually put any Gopher code into AV-98. Any other client could easily
</I>&gt;<i> add support for this too.
</I>&gt;<i>
</I>&gt;<i> Anyway, Molly Brown offers no support for any of this. If it receives a
</I>&gt;<i> request for a URL with a hostname that doesn't match its configured
</I>&gt;<i> hostname, it will respond with a &quot;no proxying allowed&quot; error, and that's
</I>&gt;<i> the end of that. The actual server system's hostname is not consulted.
</I>&gt;<i> If you're seeing these errors, it can only mean that your client is
</I>&gt;<i> sending a URL with the wrong hostname (or there's a bug in Molly Brown,
</I>&gt;<i> in which case we should try to identify and fix it, not just comment it
</I>&gt;<i> out).
</I>&gt;<i>
</I>&gt;<i> Are you perhaps connecting to the server by typing its IP address into
</I>&gt;<i> your client, and not the hostname? That's something I can think of
</I>&gt;<i> which would cause this (and perhaps shouldn't).
</I>&gt;<i>
</I>&gt;<i> If that's not the case, look in your Molly Brown access log. You'll be
</I>&gt;<i> able to see the URL your client is sending. That will probably let us
</I>&gt;<i> know what's going on.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Solderpunk
</I>&gt;<i>
</I>&gt;<i> &gt; On Jul 4, 2020, 19:02 -0400, <A HREF="https://lists.orbitalfox.eu/listinfo/gemini">traderbeckola at tahoma.com</A>, wrote:
</I>&gt;<i> &gt; &gt; Yes. Just checked to make sure the hostname is harmonized across molly.conf, hostname on the server system, and the hostname the dns/dhcp server assigns it.
</I>&gt;<i> &gt; &gt; On Jul 4, 2020, 18:38 -0400, solderpunk &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">solderpunk at SDF.ORG</A>&gt;, wrote:
</I>&gt;<i> &gt; &gt; &gt; On Sat, Jul 04, 2020 at 06:33:58PM -0400, <A HREF="https://lists.orbitalfox.eu/listinfo/gemini">traderbeckola at tahoma.com</A> wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt; I&#8217;m experimenting with setting up a Gemini server (molly brown in this case) on my LAN. It is on a different network segment than my desktop (client, trying out Kristall and elpher). When I try to connect to the server, I get a message &#8220;you tried to request a resource from one host that is actually located on another host.... No proxying to other hosts or ports.&#8221; The message is similar from the various clients and in the server&#8217;s log file.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Not sure why I&#8217;m getting this. Running on port 1965, no port forwarding arrangement. There is a firewall between the two network segments.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Thanks!
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; What's the value of `Hostname` in your Molly Brown configuration, and is
</I>&gt;<i> &gt; &gt; &gt; that the hostname with which you are trying to access the server?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Cheers,
</I>&gt;<i> &gt; &gt; &gt; Solderpunk
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.orbitalfox.eu/archives/gemini/attachments/20200705/a6b59e21/attachment.htm">https://lists.orbitalfox.eu/archives/gemini/attachments/20200705/a6b59e21/attachment.htm</A>&gt;
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="002065.html">=?utf-8?Q?What=E2=80=99s_?=considered proxying in Gemini?
</A></li>
	<LI>Next message (by thread): <A HREF="002061.html">Adding Gemini support to edbrowse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2069">[ date ]</a>
              <a href="thread.html#2069">[ thread ]</a>
              <a href="subject.html#2069">[ subject ]</a>
              <a href="author.html#2069">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
