<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Three possible uses for IRIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Three%20possible%20uses%20for%20IRIs&In-Reply-To=%3C-3t12qvMLwAVPFhWjhGXG6gSivbaSJzluBlXXhOalSm5y4XW3S1zGdt--PcMNZHmLHB6txbcvyJcEtQkpGC4xSxCHIQYZ1ynhnOS8UXYZzo%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003902.html">
   <LINK REL="Next"  HREF="003910.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Three possible uses for IRIs</H1>
    <B>colecmac at protonmail.com</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Three%20possible%20uses%20for%20IRIs&In-Reply-To=%3C-3t12qvMLwAVPFhWjhGXG6gSivbaSJzluBlXXhOalSm5y4XW3S1zGdt--PcMNZHmLHB6txbcvyJcEtQkpGC4xSxCHIQYZ1ynhnOS8UXYZzo%3D%40protonmail.com%3E"
       TITLE="Three possible uses for IRIs">colecmac at protonmail.com
       </A><BR>
    <I>Tue Dec  8 19:09:18 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003902.html">Three possible uses for IRIs
</A></li>
        <LI>Next message (by thread): <A HREF="003910.html">Three possible uses for IRIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3908">[ date ]</a>
              <a href="thread.html#3908">[ thread ]</a>
              <a href="subject.html#3908">[ subject ]</a>
              <a href="author.html#3908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday, December 8, 2020 10:57 AM, John Cowan &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">cowan at ccil.org</A>&gt; wrote:

&gt;<i> On Tue, Dec 8, 2020 at 6:49 AM bie &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">bie at 202x.moe</A>&gt; wrote:
</I>&gt;<i> &#160;
</I>&gt;<i>
</I>&gt;<i> &gt; If the protocol were to change to allow IRIs, that's a *major breaking*
</I>&gt;<i> &gt; change that to me, as someone actually serving non-English content, is
</I>&gt;<i> &gt; not only completely unnecessary but harmful.
</I>&gt;<i>
</I>&gt;<i> As I said at the beginning of this thread, I don't think anyone is actually
</I>&gt;<i> arguing for a change to the protocol.&#160; What does warrant discussion is
</I>&gt;<i> allowing IRI references as links in the text/gemini format.
</I>

I think some people really were calling for a breaking change to the protocol.
But I'm glad you're not, and I hope we can move on and stop talking about it.
What you propose here is allowing IRIs in link lines only? Or do you mean allowing
only IRIs for relative references?

I'm unsure whether that would require an IRI parser or not, but I'd feel more
confident with one. However, there is already a client torture test that *sort of*
covers this. It's not designed as an IRI test, but it includes invalid
characters in a link line.

<A HREF="gemini://gemini.conman.org/test/torture/0031">gemini://gemini.conman.org/test/torture/0031</A>

That page contains a link line that looks like this:

=&gt; &lt;0032&gt; &quot;Beware the bad link&quot;

And the Go stdlib will actually correct this link and output a correct
absolute one. So in Amfora, it will go to the correct URL, which is
<A HREF="gemini://gemini.conman.org/test/torture/%3C0032%3E">gemini://gemini.conman.org/test/torture/%3C0032%3E</A>

I've set up my own test that contains a more complex Unicode character: &#34552;.
It tests the path, as well as Unicode in the query strings.
You can access it at: <A HREF="gemini://makeworld.gq/test/iri-link.gmi">gemini://makeworld.gq/test/iri-link.gmi</A>

Go also corrects the link in that one, and it works. Allowing IRIs in link
lines (maybe only for relative links to ease parsing) would solve all
multi-lingual author problems.

But this is still a somewhat-breaking change, as once authors start using
these, other non-Go clients will likely begin to fail. And the correction
that Go does is not even complete, because it will not work on query strings.
And even if it did, it would not work in the Gemini way that doesn't allow
pluses, etc etc.

We're almost there with this one, but I still think it's a mistake, and it'll
make Gemini more complex. :/


makeworld
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003902.html">Three possible uses for IRIs
</A></li>
	<LI>Next message (by thread): <A HREF="003910.html">Three possible uses for IRIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3908">[ date ]</a>
              <a href="thread.html#3908">[ thread ]</a>
              <a href="subject.html#3908">[ subject ]</a>
              <a href="author.html#3908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
