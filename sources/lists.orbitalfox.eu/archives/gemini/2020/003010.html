<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Proposal about content-size and hash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Proposal%20about%20content-size%20and%20hash&In-Reply-To=%3C45ec4611abe3271483e3f109486256ad%40tilde.team%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003002.html">
   <LINK REL="Next"  HREF="003011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Proposal about content-size and hash</H1>
    <B>prisonpotato at tilde.team</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Proposal%20about%20content-size%20and%20hash&In-Reply-To=%3C45ec4611abe3271483e3f109486256ad%40tilde.team%3E"
       TITLE="Proposal about content-size and hash">prisonpotato at tilde.team
       </A><BR>
    <I>Mon Nov  2 18:54:32 GMT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="003002.html">Proposal about content-size and hash
</A></li>
        <LI>Next message (by thread): <A HREF="003011.html">Proposal about content-size and hash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3010">[ date ]</a>
              <a href="thread.html#3010">[ thread ]</a>
              <a href="subject.html#3010">[ subject ]</a>
              <a href="author.html#3010">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> ...I suspect I'll regret sharing this, but intellectual honesty compels
</I>&gt;<i> me. It's just occurred to me that this problem can actually be avoided by
</I>&gt;<i> having the &lt;META&gt; value for status code 20 be the content size in bytes,
</I>&gt;<i> followed by arbitrary whitespace, followed by the MIME type. With this
</I>&gt;<i> approach, the designated separator between the size and the MIME type
</I>&gt;<i> is whitespace, but because MIME types may themselves contain whitespace
</I>&gt;<i> (to e.g. separate type/subtype from parameter values), it would be
</I>&gt;<i> extremely problematic to attempt to add any optional extensions on after
</I>&gt;<i> the MIME type using that same designated separator. Having the
</I>&gt;<i> separator possibly occur inside the final element of the list makes the
</I>&gt;<i> list self-terminating, which completely addresses my greatest fear with
</I>&gt;<i> having a list at all, as opposed to just a single bit of information.
</I>
This seems like a neat solution to this problem to me, but I'm not sure if it would work at this stage of gemini's life cycle.  There are also of course the issues with dynamically sized responses as generated by CGI scripts and stuff like that, so maybe we could introduce a new response code, like 22: Response with size.

20 text/gemini
22 100 text/gemini

This solves both problems by making content length optional again, but exposes a risk that this type of extension could be used to add more fields
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="003002.html">Proposal about content-size and hash
</A></li>
	<LI>Next message (by thread): <A HREF="003011.html">Proposal about content-size and hash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3010">[ date ]</a>
              <a href="thread.html#3010">[ thread ]</a>
              <a href="subject.html#3010">[ subject ]</a>
              <a href="author.html#3010">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
