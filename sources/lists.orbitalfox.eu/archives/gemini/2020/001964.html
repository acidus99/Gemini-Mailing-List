<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Illusory latency due to trailing slash redirects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Illusory%20latency%20due%20to%20trailing%20slash%20redirects&In-Reply-To=%3C20200627085714.GA7701%40SDF.ORG%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001971.html">
   <LINK REL="Next"  HREF="001968.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Illusory latency due to trailing slash redirects</H1>
    <B>solderpunk</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Illusory%20latency%20due%20to%20trailing%20slash%20redirects&In-Reply-To=%3C20200627085714.GA7701%40SDF.ORG%3E"
       TITLE="Illusory latency due to trailing slash redirects">solderpunk at SDF.ORG
       </A><BR>
    <I>Sat Jun 27 09:57:14 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001971.html">New Dillo plugin
</A></li>
        <LI>Next message (by thread): <A HREF="001968.html">Illusory latency due to trailing slash redirects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1964">[ date ]</a>
              <a href="thread.html#1964">[ thread ]</a>
              <a href="subject.html#1964">[ subject ]</a>
              <a href="author.html#1964">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I sent the following email (and many others, which will follow shortly)
to the list last night, but SDF's mailserver was acting up and they
never went through.  I thought they'd appear eventually, but it appears
not, so I'm resending them now.  Apologies if double posts eventually
appear.

----- Forwarded message from solderpunk &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">solderpunk at SDF.ORG</A>&gt; -----

Date: Fri, 26 Jun 2020 15:47:57 +0000
From: solderpunk &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">solderpunk at SDF.ORG</A>&gt;
To: <A HREF="https://lists.orbitalfox.eu/listinfo/gemini">gemini at lists.orbitalfox.eu</A>
Subject: Illusory latency due to trailing slash redirects

Gemini servers (and servers for any other protocol supporting relative
URLs, including HTTP) will use redirects to get clients to add a
trailing slash to a URL which maps to a directory on the server's
filesystem.  Handling this redirect is often invisible to the client
user, with the result that what &quot;looks and feels&quot; like a single request
is actually two immediately consecutive requests.  This makes latency
appear to be much worse than it actually is.  Perhaps this underlies
some people's perceptions that Gemini has unacceptable latency.

This basic problem is unavoidable, but there are many small things
client and server authors can do to minimise how often it happens:

In general, the client can't add a missing trailing slash itself because
it never knows if a given URL maps to something file-like or something
directory-like.  An interesting exception is the root of the server.
Molly Brown and Jetforce (but not GLV-1.12556) both seem to redirect
gemini.example.com to gemini.example.com/, making the loading of
&quot;homepages&quot; feel slower than it needs to.  I'm pretty sure it should be
safe for clients to automatically append trailing slashes to URLs
without paths.

On the server side, server authors should take care when doing things
like automatically generating directory listings to put trailing slashes
in links to directories so that the redirect is not necessary.

These measures together could cut perceived latency in half for a
non-trivial proportion of Gemini requests, including the psychologically
heavily weighted request of visiting a server's homepage.

Cheers,
Solderpunk
</PRE>


















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001971.html">New Dillo plugin
</A></li>
	<LI>Next message (by thread): <A HREF="001968.html">Illusory latency due to trailing slash redirects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1964">[ date ]</a>
              <a href="thread.html#1964">[ thread ]</a>
              <a href="subject.html#1964">[ subject ]</a>
              <a href="author.html#1964">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
