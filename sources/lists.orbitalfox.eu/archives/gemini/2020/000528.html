<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Client certificates
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Client%20certificates&In-Reply-To=%3CCAFTy05YkLHe63BO7JA-_nSL23WRxTkQxYdwt99AOSPJQMQZsYw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000527.html">
   <LINK REL="Next"  HREF="000529.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Client certificates</H1>
    <B>Michael Lazar</B> 
    <A HREF="mailto:gemini%40lists.orbitalfox.eu?Subject=Re%3A%20Client%20certificates&In-Reply-To=%3CCAFTy05YkLHe63BO7JA-_nSL23WRxTkQxYdwt99AOSPJQMQZsYw%40mail.gmail.com%3E"
       TITLE="Client certificates">lazar.michael22 at gmail.com
       </A><BR>
    <I>Mon Apr 20 23:02:32 BST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000527.html">Client certificates
</A></li>
        <LI>Next message (by thread): <A HREF="000529.html">Client certificates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#528">[ date ]</a>
              <a href="thread.html#528">[ thread ]</a>
              <a href="subject.html#528">[ subject ]</a>
              <a href="author.html#528">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Apr 20, 2020 at 2:20 PM solderpunk &lt;<A HREF="https://lists.orbitalfox.eu/listinfo/gemini">solderpunk at sdf.org</A>&gt; wrote:
&gt;<i> While we're talking details on client certificates - I never envisaged
</I>&gt;<i> client certificates being signed by the server they're destined for.
</I>&gt;<i> This does no harm, but it also does no good, either, if the server signs
</I>&gt;<i> them without any kind of validation process. In general I don't see a
</I>&gt;<i> need for it and it just adds a lot of friction to the &quot;signup process&quot;.
</I>&gt;<i> But, I'm aware that lots of TLS libraries are very inflexible when it
</I>&gt;<i> comes to certificate validation, and accepting self-signed client
</I>&gt;<i> certificates may not be possible - I wouldn't be surprised if this was
</I>&gt;<i> the cause for astrobotany, since Python's standard library is precisely
</I>&gt;<i>one of these inflexible ones...
</I>
To be honest, I never even considered doing it that way. Assuming I have
access to a half-decent TLS library, does this flow make sense for self-signed
client certificates?

- The client requests &quot;<A HREF="gemini://astrobotany.mozz.us/">gemini://astrobotany.mozz.us/</A>&quot; and receives a
  &quot;62 AUTHORISED CERTIFICATE REQUIRED&quot; response.
- The client generates a self-signed certificate and makes a second request to
  the same endpoint. This certificate generation could be done through the
  gemini client software itself, or the user could provide their own cert.
- The server accepts the self-signed client certificate and saves a hashed
  fingerprint of the peer cert. This fingerprint is now associated with that
  user and represents a unique UUID that nobody else can spoof.
- We kick the can down the road concerning the user needing to update or
  re-associate their client certificate. We hope that they set an expiration
  date far enough in the future for this to never matter.

Are there any flaws that I'm not seeing here? I actually like this a lot more
than the current solution now that I look at it.

- Michael
</PRE>
























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000527.html">Client certificates
</A></li>
	<LI>Next message (by thread): <A HREF="000529.html">Client certificates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#528">[ date ]</a>
              <a href="thread.html#528">[ thread ]</a>
              <a href="subject.html#528">[ subject ]</a>
              <a href="author.html#528">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.orbitalfox.eu/listinfo/gemini">More information about the Gemini
mailing list</a><br>
</body></html>
